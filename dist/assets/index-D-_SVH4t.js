function fm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sd={exports:{}},Ii={},id={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),gm=Symbol.for("react.portal"),ym=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),bm=Symbol.for("react.memo"),Sm=Symbol.for("react.lazy"),cu=Symbol.iterator;function Nm(e){return e===null||typeof e!="object"?null:(e=cu&&e[cu]||e["@@iterator"],typeof e=="function"?e:null)}var od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,ld={};function hn(e,t,r){this.props=e,this.context=t,this.refs=ld,this.updater=r||od}hn.prototype.isReactComponent={};hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ud(){}ud.prototype=hn.prototype;function Za(e,t,r){this.props=e,this.context=t,this.refs=ld,this.updater=r||od}var el=Za.prototype=new ud;el.constructor=Za;ad(el,hn.prototype);el.isPureReactComponent=!0;var du=Array.isArray,cd=Object.prototype.hasOwnProperty,tl={current:null},dd={key:!0,ref:!0,__self:!0,__source:!0};function hd(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cd.call(t,n)&&!dd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ms,type:e,key:i,ref:o,props:s,_owner:tl.current}}function Cm(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function Em(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hu=/\/+/g;function fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Em(""+e.key):t.toString(36)}function Qs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ms:case gm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+fo(o,0):n,du(s)?(r="",e!=null&&(r=e.replace(hu,"$&/")+"/"),Qs(s,t,r,"",function(c){return c})):s!=null&&(rl(s)&&(s=Cm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",du(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+fo(i,l);o+=Qs(i,t,r,u,s)}else if(u=Nm(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+fo(i,l++),o+=Qs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ss(e,t,r){if(e==null)return e;var n=[],s=0;return Qs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Pm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Ys={transition:null},Om={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Ys,ReactCurrentOwner:tl};function fd(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:Ss,forEach:function(e,t,r){Ss(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ss(e,function(){t++}),t},toArray:function(e){return Ss(e,function(t){return t})||[]},only:function(e){if(!rl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=hn;I.Fragment=ym;I.Profiler=xm;I.PureComponent=Za;I.StrictMode=vm;I.Suspense=km;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Om;I.act=fd;I.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ad({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)cd.call(t,u)&&!dd.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:ms,type:e.type,key:s,ref:i,props:n,_owner:o}};I.createContext=function(e){return e={$$typeof:_m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wm,_context:e},e.Consumer=e};I.createElement=hd;I.createFactory=function(e){var t=hd.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:jm,render:e}};I.isValidElement=rl;I.lazy=function(e){return{$$typeof:Sm,_payload:{_status:-1,_result:e},_init:Pm}};I.memo=function(e,t){return{$$typeof:bm,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Ys.transition;Ys.transition={};try{e()}finally{Ys.transition=t}};I.unstable_act=fd;I.useCallback=function(e,t){return je.current.useCallback(e,t)};I.useContext=function(e){return je.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return je.current.useDeferredValue(e)};I.useEffect=function(e,t){return je.current.useEffect(e,t)};I.useId=function(){return je.current.useId()};I.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};I.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return je.current.useMemo(e,t)};I.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};I.useRef=function(e){return je.current.useRef(e)};I.useState=function(e){return je.current.useState(e)};I.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};I.useTransition=function(){return je.current.useTransition()};I.version="18.3.1";id.exports=I;var _=id.exports;const md=mm(_),Tm=fm({__proto__:null,default:md},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=_,Dm=Symbol.for("react.element"),Am=Symbol.for("react.fragment"),Lm=Object.prototype.hasOwnProperty,Im=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$m={key:!0,ref:!0,__self:!0,__source:!0};function pd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Lm.call(t,n)&&!$m.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Dm,type:e,key:i,ref:o,props:s,_owner:Im.current}}Ii.Fragment=Am;Ii.jsx=pd;Ii.jsxs=pd;sd.exports=Ii;var a=sd.exports,gd={exports:{}},Me={},yd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var L=T.length;T.push(D);e:for(;0<L;){var te=L-1>>>1,ae=T[te];if(0<s(ae,D))T[te]=D,T[L]=ae,L=te;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],L=T.pop();if(L!==D){T[0]=L;e:for(var te=0,ae=T.length,ks=ae>>>1;te<ks;){var sr=2*(te+1)-1,ho=T[sr],ir=sr+1,bs=T[ir];if(0>s(ho,L))ir<ae&&0>s(bs,ho)?(T[te]=bs,T[ir]=L,te=ir):(T[te]=ho,T[sr]=L,te=sr);else if(ir<ae&&0>s(bs,L))T[te]=bs,T[ir]=L,te=ir;else break e}}return D}function s(T,D){var L=T.sortIndex-D.sortIndex;return L!==0?L:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,f=3,v=!1,x=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=T)n(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(c)}}function y(T){if(w=!1,g(T),!x)if(r(u)!==null)x=!0,uo(b);else{var D=r(c);D!==null&&co(y,D.startTime-T)}}function b(T,D){x=!1,w&&(w=!1,p(P),P=-1),v=!0;var L=f;try{for(g(D),h=r(u);h!==null&&(!(h.expirationTime>D)||T&&!E());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var ae=te(h.expirationTime<=D);D=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(u)&&n(u),g(D)}else n(u);h=r(u)}if(h!==null)var ks=!0;else{var sr=r(c);sr!==null&&co(y,sr.startTime-D),ks=!1}return ks}finally{h=null,f=L,v=!1}}var S=!1,C=null,P=-1,$=5,j=-1;function E(){return!(e.unstable_now()-j<$)}function R(){if(C!==null){var T=e.unstable_now();j=T;var D=!0;try{D=C(!0,T)}finally{D?Y():(S=!1,C=null)}}else S=!1}var Y;if(typeof m=="function")Y=function(){m(R)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Re=Fe.port2;Fe.port1.onmessage=R,Y=function(){Re.postMessage(null)}}else Y=function(){k(R,0)};function uo(T){C=T,S||(S=!0,Y())}function co(T,D){P=k(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,uo(b))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var L=f;f=D;try{return T()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=f;f=T;try{return D()}finally{f=L}},e.unstable_scheduleCallback=function(T,D,L){var te=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?te+L:te):L=te,T){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=L+ae,T={id:d++,callback:D,priorityLevel:T,startTime:L,expirationTime:ae,sortIndex:-1},L>te?(T.sortIndex=L,t(c,T),r(u)===null&&T===r(c)&&(w?(p(P),P=-1):w=!0,co(y,L-te))):(T.sortIndex=ae,t(u,T),x||v||(x=!0,uo(b))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var D=f;return function(){var L=f;f=D;try{return T.apply(this,arguments)}finally{f=L}}}})(vd);yd.exports=vd;var Mm=yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=_,$e=Mm;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xd=new Set,Jn={};function br(e,t){rn(e,t),rn(e+"Capture",t)}function rn(e,t){for(Jn[e]=t,e=0;e<t.length;e++)xd.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,Fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fu={},mu={};function zm(e){return Jo.call(mu,e)?!0:Jo.call(fu,e)?!1:Fm.test(e)?mu[e]=!0:(fu[e]=!0,!1)}function Bm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wm(e,t,r,n){if(t===null||typeof t>"u"||Bm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var nl=/[\-:]([a-z])/g;function sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nl,sl);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nl,sl);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nl,sl);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function il(e,t,r,n){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wm(t,r,s,n)&&(r=null),n||s===null?zm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var St=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),ol=Symbol.for("react.strict_mode"),Qo=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),_d=Symbol.for("react.context"),al=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),Ko=Symbol.for("react.suspense_list"),ll=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),pu=Symbol.iterator;function xn(e){return e===null||typeof e!="object"?null:(e=pu&&e[pu]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,mo;function On(e){if(mo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||""}return`
`+mo+e}var po=!1;function go(e,t){if(!e||po)return"";po=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{po=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?On(e):""}function Hm(e){switch(e.tag){case 5:return On(e.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 2:case 15:return e=go(e.type,!1),e;case 11:return e=go(e.type.render,!1),e;case 1:return e=go(e.type,!0),e;default:return""}}function Go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ir:return"Fragment";case Lr:return"Portal";case Qo:return"Profiler";case ol:return"StrictMode";case Yo:return"Suspense";case Ko:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _d:return(e.displayName||"Context")+".Consumer";case wd:return(e._context.displayName||"Context")+".Provider";case al:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ll:return t=e.displayName||null,t!==null?t:Go(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return Go(e(t))}catch{}}return null}function Vm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Go(t);case 8:return t===ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qm(e){var t=kd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=qm(e))}function bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xo(e,t){var r=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Kt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sd(e,t){t=t.checked,t!=null&&il(e,"checked",t,!1)}function Zo(e,t){Sd(e,t);var r=Kt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ea(e,t.type,r):t.hasOwnProperty("defaultValue")&&ea(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ea(e,t,r){(t!=="number"||oi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tn=Array.isArray;function Jr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Tn(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kt(r)}}function Nd(e,t){var r=Kt(t.value),n=Kt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,Ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jm=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(e){Jm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ln[t]=Ln[e]})});function Pd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ln.hasOwnProperty(e)&&Ln[e]?(""+t).trim():t+"px"}function Od(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Qm=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(e,t){if(t){if(Qm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oa=null,Qr=null,Yr=null;function wu(e){if(e=ys(e)){if(typeof oa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=zi(t),oa(e.stateNode,e.type,t))}}function Td(e){Qr?Yr?Yr.push(e):Yr=[e]:Qr=e}function Rd(){if(Qr){var e=Qr,t=Yr;if(Yr=Qr=null,wu(e),t)for(e=0;e<t.length;e++)wu(t[e])}}function Dd(e,t){return e(t)}function Ad(){}var yo=!1;function Ld(e,t,r){if(yo)return e(t,r);yo=!0;try{return Dd(e,t,r)}finally{yo=!1,(Qr!==null||Yr!==null)&&(Ad(),Rd())}}function Yn(e,t){var r=e.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var aa=!1;if(_t)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){aa=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{aa=!1}function Ym(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var In=!1,ai=null,li=!1,la=null,Km={onError:function(e){In=!0,ai=e}};function Gm(e,t,r,n,s,i,o,l,u){In=!1,ai=null,Ym.apply(Km,arguments)}function Xm(e,t,r,n,s,i,o,l,u){if(Gm.apply(this,arguments),In){if(In){var c=ai;In=!1,ai=null}else throw Error(N(198));li||(li=!0,la=c)}}function Sr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _u(e){if(Sr(e)!==e)throw Error(N(188))}function Zm(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return _u(s),e;if(i===n)return _u(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function $d(e){return e=Zm(e),e!==null?Md(e):null}function Md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Md(e);if(t!==null)return t;e=e.sibling}return null}var Ud=$e.unstable_scheduleCallback,ju=$e.unstable_cancelCallback,ep=$e.unstable_shouldYield,tp=$e.unstable_requestPaint,re=$e.unstable_now,rp=$e.unstable_getCurrentPriorityLevel,cl=$e.unstable_ImmediatePriority,Fd=$e.unstable_UserBlockingPriority,ui=$e.unstable_NormalPriority,np=$e.unstable_LowPriority,zd=$e.unstable_IdlePriority,$i=null,ct=null;function sp(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:ap,ip=Math.log,op=Math.LN2;function ap(e){return e>>>=0,e===0?32:31-(ip(e)/op|0)|0}var Ps=64,Os=4194304;function Rn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Rn(l):(i&=o,i!==0&&(n=Rn(i)))}else o=r&~s,o!==0?n=Rn(o):i!==0&&(n=Rn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-et(t),s=1<<r,n|=e[r],t&=~s;return n}function lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-et(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=lp(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bd(){var e=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),e}function vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ps(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=r}function cp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-et(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function dl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-et(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function Wd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hd,hl,Vd,qd,Jd,ca=!1,Ts=[],zt=null,Bt=null,Wt=null,Kn=new Map,Gn=new Map,At=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(t.pointerId)}}function _n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ys(t),t!==null&&hl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hp(e,t,r,n,s){switch(t){case"focusin":return zt=_n(zt,e,t,r,n,s),!0;case"dragenter":return Bt=_n(Bt,e,t,r,n,s),!0;case"mouseover":return Wt=_n(Wt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Kn.set(i,_n(Kn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Gn.set(i,_n(Gn.get(i)||null,e,t,r,n,s)),!0}return!1}function Qd(e){var t=hr(e.target);if(t!==null){var r=Sr(t);if(r!==null){if(t=r.tag,t===13){if(t=Id(r),t!==null){e.blockedOn=t,Jd(e.priority,function(){Vd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ia=n,r.target.dispatchEvent(n),ia=null}else return t=ys(r),t!==null&&hl(t),e.blockedOn=r,!1;t.shift()}return!0}function bu(e,t,r){Ks(e)&&r.delete(t)}function fp(){ca=!1,zt!==null&&Ks(zt)&&(zt=null),Bt!==null&&Ks(Bt)&&(Bt=null),Wt!==null&&Ks(Wt)&&(Wt=null),Kn.forEach(bu),Gn.forEach(bu)}function jn(e,t){e.blockedOn===t&&(e.blockedOn=null,ca||(ca=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,fp)))}function Xn(e){function t(s){return jn(s,e)}if(0<Ts.length){jn(Ts[0],e);for(var r=1;r<Ts.length;r++){var n=Ts[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zt!==null&&jn(zt,e),Bt!==null&&jn(Bt,e),Wt!==null&&jn(Wt,e),Kn.forEach(t),Gn.forEach(t),r=0;r<At.length;r++)n=At[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&(r=At[0],r.blockedOn===null);)Qd(r),r.blockedOn===null&&At.shift()}var Kr=St.ReactCurrentBatchConfig,di=!0;function mp(e,t,r,n){var s=H,i=Kr.transition;Kr.transition=null;try{H=1,fl(e,t,r,n)}finally{H=s,Kr.transition=i}}function pp(e,t,r,n){var s=H,i=Kr.transition;Kr.transition=null;try{H=4,fl(e,t,r,n)}finally{H=s,Kr.transition=i}}function fl(e,t,r,n){if(di){var s=da(e,t,r,n);if(s===null)Eo(e,t,n,hi,r),ku(e,n);else if(hp(s,e,t,r,n))n.stopPropagation();else if(ku(e,n),t&4&&-1<dp.indexOf(e)){for(;s!==null;){var i=ys(s);if(i!==null&&Hd(i),i=da(e,t,r,n),i===null&&Eo(e,t,n,hi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Eo(e,t,n,null,r)}}var hi=null;function da(e,t,r,n){if(hi=null,e=ul(n),e=hr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Id(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function Yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rp()){case cl:return 1;case Fd:return 4;case ui:case np:return 16;case zd:return 536870912;default:return 16}default:return 16}}var $t=null,ml=null,Gs=null;function Kd(){if(Gs)return Gs;var e,t=ml,r=t.length,n,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Gs=s.slice(e,1<n?1-n:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function Su(){return!1}function Ue(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rs:Su,this.isPropagationStopped=Su,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=Ue(fn),gs=Z({},fn,{view:0,detail:0}),gp=Ue(gs),xo,wo,kn,Mi=Z({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(xo=e.screenX-kn.screenX,wo=e.screenY-kn.screenY):wo=xo=0,kn=e),xo)},movementY:function(e){return"movementY"in e?e.movementY:wo}}),Nu=Ue(Mi),yp=Z({},Mi,{dataTransfer:0}),vp=Ue(yp),xp=Z({},gs,{relatedTarget:0}),_o=Ue(xp),wp=Z({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),_p=Ue(wp),jp=Z({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kp=Ue(jp),bp=Z({},fn,{data:0}),Cu=Ue(bp),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function gl(){return Ep}var Pp=Z({},gs,{key:function(e){if(e.key){var t=Sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=Ue(Pp),Tp=Z({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ue(Tp),Rp=Z({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),Dp=Ue(Rp),Ap=Z({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lp=Ue(Ap),Ip=Z({},Mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$p=Ue(Ip),Mp=[9,13,27,32],yl=_t&&"CompositionEvent"in window,$n=null;_t&&"documentMode"in document&&($n=document.documentMode);var Up=_t&&"TextEvent"in window&&!$n,Gd=_t&&(!yl||$n&&8<$n&&11>=$n),Pu=" ",Ou=!1;function Xd(e,t){switch(e){case"keyup":return Mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function Fp(e,t){switch(e){case"compositionend":return Zd(t);case"keypress":return t.which!==32?null:(Ou=!0,Pu);case"textInput":return e=t.data,e===Pu&&Ou?null:e;default:return null}}function zp(e,t){if($r)return e==="compositionend"||!yl&&Xd(e,t)?(e=Kd(),Gs=ml=$t=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gd&&t.locale!=="ko"?null:t.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bp[e.type]:t==="textarea"}function eh(e,t,r,n){Td(n),t=fi(t,"onChange"),0<t.length&&(r=new pl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mn=null,Zn=null;function Wp(e){dh(e,0)}function Ui(e){var t=Fr(e);if(bd(t))return e}function Hp(e,t){if(e==="change")return t}var th=!1;if(_t){var jo;if(_t){var ko="oninput"in document;if(!ko){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),ko=typeof Ru.oninput=="function"}jo=ko}else jo=!1;th=jo&&(!document.documentMode||9<document.documentMode)}function Du(){Mn&&(Mn.detachEvent("onpropertychange",rh),Zn=Mn=null)}function rh(e){if(e.propertyName==="value"&&Ui(Zn)){var t=[];eh(t,Zn,e,ul(e)),Ld(Wp,t)}}function Vp(e,t,r){e==="focusin"?(Du(),Mn=t,Zn=r,Mn.attachEvent("onpropertychange",rh)):e==="focusout"&&Du()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(Zn)}function Jp(e,t){if(e==="click")return Ui(t)}function Qp(e,t){if(e==="input"||e==="change")return Ui(t)}function Yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:Yp;function es(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jo.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var r=Au(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Au(r)}}function nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sh(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oi(e.document)}return t}function vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kp(e){var t=sh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nh(r.ownerDocument.documentElement,r)){if(n!==null&&vl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Lu(r,i);var o=Lu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gp=_t&&"documentMode"in document&&11>=document.documentMode,Mr=null,ha=null,Un=null,fa=!1;function Iu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fa||Mr==null||Mr!==oi(n)||(n=Mr,"selectionStart"in n&&vl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&es(Un,n)||(Un=n,n=fi(ha,"onSelect"),0<n.length&&(t=new pl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mr)))}function Ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ur={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},bo={},ih={};_t&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Fi(e){if(bo[e])return bo[e];if(!Ur[e])return e;var t=Ur[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ih)return bo[e]=t[r];return e}var oh=Fi("animationend"),ah=Fi("animationiteration"),lh=Fi("animationstart"),uh=Fi("transitionend"),ch=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){ch.set(e,t),br(t,[e])}for(var So=0;So<$u.length;So++){var No=$u[So],Xp=No.toLowerCase(),Zp=No[0].toUpperCase()+No.slice(1);Zt(Xp,"on"+Zp)}Zt(oh,"onAnimationEnd");Zt(ah,"onAnimationIteration");Zt(lh,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(uh,"onTransitionEnd");rn("onMouseEnter",["mouseout","mouseover"]);rn("onMouseLeave",["mouseout","mouseover"]);rn("onPointerEnter",["pointerout","pointerover"]);rn("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Mu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xm(n,t,void 0,e),e.currentTarget=null}function dh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Mu(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Mu(s,l,c),i=u}}}if(li)throw e=la,li=!1,la=null,e}function J(e,t){var r=t[va];r===void 0&&(r=t[va]=new Set);var n=e+"__bubble";r.has(n)||(hh(t,e,2,!1),r.add(n))}function Co(e,t,r){var n=0;t&&(n|=4),hh(r,e,n,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[As]){e[As]=!0,xd.forEach(function(r){r!=="selectionchange"&&(e0.has(r)||Co(r,!1,e),Co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,Co("selectionchange",!1,t))}}function hh(e,t,r,n){switch(Yd(t)){case 1:var s=mp;break;case 4:s=pp;break;default:s=fl}r=s.bind(null,t,r,e),s=void 0,!aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Eo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ld(function(){var c=i,d=ul(r),h=[];e:{var f=ch.get(e);if(f!==void 0){var v=pl,x=e;switch(e){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":v=Op;break;case"focusin":x="focus",v=_o;break;case"focusout":x="blur",v=_o;break;case"beforeblur":case"afterblur":v=_o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dp;break;case oh:case ah:case lh:v=_p;break;case uh:v=Lp;break;case"scroll":v=gp;break;case"wheel":v=$p;break;case"copy":case"cut":case"paste":v=kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Eu}var w=(t&4)!==0,k=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,g;m!==null;){g=m;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,p!==null&&(y=Yn(m,p),y!=null&&w.push(rs(m,y,g)))),k)break;m=m.return}0<w.length&&(f=new v(f,x,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==ia&&(x=r.relatedTarget||r.fromElement)&&(hr(x)||x[jt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?hr(x):null,x!==null&&(k=Sr(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(w=Nu,y="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Eu,y="onPointerLeave",p="onPointerEnter",m="pointer"),k=v==null?f:Fr(v),g=x==null?f:Fr(x),f=new w(y,m+"leave",v,r,d),f.target=k,f.relatedTarget=g,y=null,hr(d)===c&&(w=new w(p,m+"enter",x,r,d),w.target=g,w.relatedTarget=k,y=w),k=y,v&&x)t:{for(w=v,p=x,m=0,g=w;g;g=Pr(g))m++;for(g=0,y=p;y;y=Pr(y))g++;for(;0<m-g;)w=Pr(w),m--;for(;0<g-m;)p=Pr(p),g--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=Pr(w),p=Pr(p)}w=null}else w=null;v!==null&&Uu(h,f,v,w,!1),x!==null&&k!==null&&Uu(h,k,x,w,!0)}}e:{if(f=c?Fr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=Hp;else if(Tu(f))if(th)b=Qp;else{b=qp;var S=Vp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Jp);if(b&&(b=b(e,c))){eh(h,b,r,d);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&ea(f,"number",f.value)}switch(S=c?Fr(c):window,e){case"focusin":(Tu(S)||S.contentEditable==="true")&&(Mr=S,ha=c,Un=null);break;case"focusout":Un=ha=Mr=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Iu(h,r,d);break;case"selectionchange":if(Gp)break;case"keydown":case"keyup":Iu(h,r,d)}var C;if(yl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else $r?Xd(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Gd&&r.locale!=="ko"&&($r||P!=="onCompositionStart"?P==="onCompositionEnd"&&$r&&(C=Kd()):($t=d,ml="value"in $t?$t.value:$t.textContent,$r=!0)),S=fi(c,P),0<S.length&&(P=new Cu(P,e,null,r,d),h.push({event:P,listeners:S}),C?P.data=C:(C=Zd(r),C!==null&&(P.data=C)))),(C=Up?Fp(e,r):zp(e,r))&&(c=fi(c,"onBeforeInput"),0<c.length&&(d=new Cu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=C))}dh(h,t)})}function rs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yn(e,r),i!=null&&n.unshift(rs(e,i,s)),i=Yn(e,t),i!=null&&n.push(rs(e,i,s))),e=e.return}return n}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Yn(r,i),u!=null&&o.unshift(rs(r,u,l))):s||(u=Yn(r,i),u!=null&&o.push(rs(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var t0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function Fu(e){return(typeof e=="string"?e:""+e).replace(t0,`
`).replace(r0,"")}function Ls(e,t,r){if(t=Fu(t),Fu(e)!==t&&r)throw Error(N(425))}function mi(){}var ma=null,pa=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(e){return zu.resolve(null).then(e).catch(i0)}:ya;function i0(e){setTimeout(function(){throw e})}function Po(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Xn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xn(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),ut="__reactFiber$"+mn,ns="__reactProps$"+mn,jt="__reactContainer$"+mn,va="__reactEvents$"+mn,o0="__reactListeners$"+mn,a0="__reactHandles$"+mn;function hr(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jt]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bu(e);e!==null;){if(r=e[ut])return r;e=Bu(e)}return t}e=r,r=e.parentNode}return null}function ys(e){return e=e[ut]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function zi(e){return e[ns]||null}var xa=[],zr=-1;function er(e){return{current:e}}function Q(e){0>zr||(e.current=xa[zr],xa[zr]=null,zr--)}function q(e,t){zr++,xa[zr]=e.current,e.current=t}var Gt={},ve=er(Gt),Ee=er(!1),yr=Gt;function nn(e,t){var r=e.type.contextTypes;if(!r)return Gt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function pi(){Q(Ee),Q(ve)}function Wu(e,t,r){if(ve.current!==Gt)throw Error(N(168));q(ve,t),q(Ee,r)}function fh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,Vm(e)||"Unknown",s));return Z({},r,n)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,yr=ve.current,q(ve,e),q(Ee,Ee.current),!0}function Hu(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=fh(e,t,yr),n.__reactInternalMemoizedMergedChildContext=e,Q(Ee),Q(ve),q(ve,e)):Q(Ee),q(Ee,r)}var yt=null,Bi=!1,Oo=!1;function mh(e){yt===null?yt=[e]:yt.push(e)}function l0(e){Bi=!0,mh(e)}function tr(){if(!Oo&&yt!==null){Oo=!0;var e=0,t=H;try{var r=yt;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,Bi=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),Ud(cl,tr),s}finally{H=t,Oo=!1}}return null}var Br=[],Wr=0,yi=null,vi=0,ze=[],Be=0,vr=null,vt=1,xt="";function ar(e,t){Br[Wr++]=vi,Br[Wr++]=yi,yi=e,vi=t}function ph(e,t,r){ze[Be++]=vt,ze[Be++]=xt,ze[Be++]=vr,vr=e;var n=vt;e=xt;var s=32-et(n)-1;n&=~(1<<s),r+=1;var i=32-et(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vt=1<<32-et(t)+s|r<<s|n,xt=i+e}else vt=1<<i|r<<s|n,xt=e}function xl(e){e.return!==null&&(ar(e,1),ph(e,1,0))}function wl(e){for(;e===yi;)yi=Br[--Wr],Br[Wr]=null,vi=Br[--Wr],Br[Wr]=null;for(;e===vr;)vr=ze[--Be],ze[Be]=null,xt=ze[--Be],ze[Be]=null,vt=ze[--Be],ze[Be]=null}var Ie=null,Le=null,K=!1,Xe=null;function gh(e,t){var r=We(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Vu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Le=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:vt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=We(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Le=null,!0):!1;default:return!1}}function wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(K){var t=Le;if(t){var r=t;if(!Vu(e,t)){if(wa(e))throw Error(N(418));t=Ht(r.nextSibling);var n=Ie;t&&Vu(e,t)?gh(n,r):(e.flags=e.flags&-4097|2,K=!1,Ie=e)}}else{if(wa(e))throw Error(N(418));e.flags=e.flags&-4097|2,K=!1,Ie=e}}}function qu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Is(e){if(e!==Ie)return!1;if(!K)return qu(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=Le)){if(wa(e))throw yh(),Error(N(418));for(;t;)gh(e,t),t=Ht(t.nextSibling)}if(qu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Le=Ht(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=Ie?Ht(e.stateNode.nextSibling):null;return!0}function yh(){for(var e=Le;e;)e=Ht(e.nextSibling)}function sn(){Le=Ie=null,K=!1}function _l(e){Xe===null?Xe=[e]:Xe.push(e)}var u0=St.ReactCurrentBatchConfig;function bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ju(e){var t=e._init;return t(e._payload)}function vh(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Qt(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,y){return m===null||m.tag!==6?(m=$o(g,p.mode,y),m.return=p,m):(m=s(m,g),m.return=p,m)}function u(p,m,g,y){var b=g.type;return b===Ir?d(p,m,g.props.children,y,g.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tt&&Ju(b)===m.type)?(y=s(m,g.props),y.ref=bn(p,m,g),y.return=p,y):(y=ii(g.type,g.key,g.props,null,p.mode,y),y.ref=bn(p,m,g),y.return=p,y)}function c(p,m,g,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Mo(g,p.mode,y),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,y,b){return m===null||m.tag!==7?(m=gr(g,p.mode,y,b),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$o(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:return g=ii(m.type,m.key,m.props,null,p.mode,g),g.ref=bn(p,null,m),g.return=p,g;case Lr:return m=Mo(m,p.mode,g),m.return=p,m;case Tt:var y=m._init;return h(p,y(m._payload),g)}if(Tn(m)||xn(m))return m=gr(m,p.mode,g,null),m.return=p,m;$s(p,m)}return null}function f(p,m,g,y){var b=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(p,m,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ns:return g.key===b?u(p,m,g,y):null;case Lr:return g.key===b?c(p,m,g,y):null;case Tt:return b=g._init,f(p,m,b(g._payload),y)}if(Tn(g)||xn(g))return b!==null?null:d(p,m,g,y,null);$s(p,g)}return null}function v(p,m,g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(g)||null,l(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ns:return p=p.get(y.key===null?g:y.key)||null,u(m,p,y,b);case Lr:return p=p.get(y.key===null?g:y.key)||null,c(m,p,y,b);case Tt:var S=y._init;return v(p,m,g,S(y._payload),b)}if(Tn(y)||xn(y))return p=p.get(g)||null,d(m,p,y,b,null);$s(m,y)}return null}function x(p,m,g,y){for(var b=null,S=null,C=m,P=m=0,$=null;C!==null&&P<g.length;P++){C.index>P?($=C,C=null):$=C.sibling;var j=f(p,C,g[P],y);if(j===null){C===null&&(C=$);break}e&&C&&j.alternate===null&&t(p,C),m=i(j,m,P),S===null?b=j:S.sibling=j,S=j,C=$}if(P===g.length)return r(p,C),K&&ar(p,P),b;if(C===null){for(;P<g.length;P++)C=h(p,g[P],y),C!==null&&(m=i(C,m,P),S===null?b=C:S.sibling=C,S=C);return K&&ar(p,P),b}for(C=n(p,C);P<g.length;P++)$=v(C,p,P,g[P],y),$!==null&&(e&&$.alternate!==null&&C.delete($.key===null?P:$.key),m=i($,m,P),S===null?b=$:S.sibling=$,S=$);return e&&C.forEach(function(E){return t(p,E)}),K&&ar(p,P),b}function w(p,m,g,y){var b=xn(g);if(typeof b!="function")throw Error(N(150));if(g=b.call(g),g==null)throw Error(N(151));for(var S=b=null,C=m,P=m=0,$=null,j=g.next();C!==null&&!j.done;P++,j=g.next()){C.index>P?($=C,C=null):$=C.sibling;var E=f(p,C,j.value,y);if(E===null){C===null&&(C=$);break}e&&C&&E.alternate===null&&t(p,C),m=i(E,m,P),S===null?b=E:S.sibling=E,S=E,C=$}if(j.done)return r(p,C),K&&ar(p,P),b;if(C===null){for(;!j.done;P++,j=g.next())j=h(p,j.value,y),j!==null&&(m=i(j,m,P),S===null?b=j:S.sibling=j,S=j);return K&&ar(p,P),b}for(C=n(p,C);!j.done;P++,j=g.next())j=v(C,p,P,j.value,y),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?P:j.key),m=i(j,m,P),S===null?b=j:S.sibling=j,S=j);return e&&C.forEach(function(R){return t(p,R)}),K&&ar(p,P),b}function k(p,m,g,y){if(typeof g=="object"&&g!==null&&g.type===Ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ns:e:{for(var b=g.key,S=m;S!==null;){if(S.key===b){if(b=g.type,b===Ir){if(S.tag===7){r(p,S.sibling),m=s(S,g.props.children),m.return=p,p=m;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tt&&Ju(b)===S.type){r(p,S.sibling),m=s(S,g.props),m.ref=bn(p,S,g),m.return=p,p=m;break e}r(p,S);break}else t(p,S);S=S.sibling}g.type===Ir?(m=gr(g.props.children,p.mode,y,g.key),m.return=p,p=m):(y=ii(g.type,g.key,g.props,null,p.mode,y),y.ref=bn(p,m,g),y.return=p,p=y)}return o(p);case Lr:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=Mo(g,p.mode,y),m.return=p,p=m}return o(p);case Tt:return S=g._init,k(p,m,S(g._payload),y)}if(Tn(g))return x(p,m,g,y);if(xn(g))return w(p,m,g,y);$s(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=$o(g,p.mode,y),m.return=p,p=m),o(p)):r(p,m)}return k}var on=vh(!0),xh=vh(!1),xi=er(null),wi=null,Hr=null,jl=null;function kl(){jl=Hr=wi=null}function bl(e){var t=xi.current;Q(xi),e._currentValue=t}function ja(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){wi=e,jl=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(wi===null)throw Error(N(308));Hr=e,wi.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var fr=null;function Sl(e){fr===null?fr=[e]:fr.push(e)}function wh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sl(t)):(r.next=s.next,s.next=r),t.interleaved=r,kt(e,n)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rt=!1;function Nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,kt(e,r)}return s=n.interleaved,s===null?(t.next=t,Sl(n)):(t.next=s.next,s.next=t),n.interleaved=t,kt(e,r)}function Zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dl(e,r)}}function Qu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _i(e,t,r,n){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var f=l.lane,v=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(f=t,v=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(v,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(v,h,f):x,f==null)break e;h=Z({},h,f);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=h}}function Yu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var vs={},dt=er(vs),ss=er(vs),is=er(vs);function mr(e){if(e===vs)throw Error(N(174));return e}function Cl(e,t){switch(q(is,t),q(ss,e),q(dt,vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ra(t,e)}Q(dt),q(dt,t)}function an(){Q(dt),Q(ss),Q(is)}function jh(e){mr(is.current);var t=mr(dt.current),r=ra(t,e.type);t!==r&&(q(ss,e),q(dt,r))}function El(e){ss.current===e&&(Q(dt),Q(ss))}var G=er(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var To=[];function Pl(){for(var e=0;e<To.length;e++)To[e]._workInProgressVersionPrimary=null;To.length=0}var ei=St.ReactCurrentDispatcher,Ro=St.ReactCurrentBatchConfig,xr=0,X=null,ie=null,ue=null,ki=!1,Fn=!1,os=0,c0=0;function pe(){throw Error(N(321))}function Ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function Tl(e,t,r,n,s,i){if(xr=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?m0:p0,e=r(n,s),Fn){i=0;do{if(Fn=!1,os=0,25<=i)throw Error(N(301));i+=1,ue=ie=null,t.updateQueue=null,ei.current=g0,e=r(n,s)}while(Fn)}if(ei.current=bi,t=ie!==null&&ie.next!==null,xr=0,ue=ie=X=null,ki=!1,t)throw Error(N(300));return e}function Rl(){var e=os!==0;return os=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=e:ue=ue.next=e,ue}function Je(){if(ie===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ue===null?X.memoizedState:ue.next;if(t!==null)ue=t,ie=e;else{if(e===null)throw Error(N(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?X.memoizedState=ue=e:ue=ue.next=e}return ue}function as(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=Je(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((xr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=n):u=u.next=h,X.lanes|=d,wr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,nt(n,t.memoizedState)||(Ce=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,wr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ao(e){var t=Je(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nt(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function kh(){}function bh(e,t){var r=X,n=Je(),s=t(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ce=!0),n=n.queue,Dl(Ch.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,ls(9,Nh.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(N(349));xr&30||Sh(r,t,s)}return s}function Sh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nh(e,t,r,n){t.value=r,t.getSnapshot=n,Eh(t)&&Ph(e)}function Ch(e,t,r){return r(function(){Eh(t)&&Ph(e)})}function Eh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function Ph(e){var t=kt(e,1);t!==null&&tt(t,e,1,-1)}function Ku(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=f0.bind(null,X,e),[t.memoizedState,e]}function ls(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Oh(){return Je().memoizedState}function ti(e,t,r,n){var s=at();X.flags|=e,s.memoizedState=ls(1|t,r,void 0,n===void 0?null:n)}function Wi(e,t,r,n){var s=Je();n=n===void 0?null:n;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,n!==null&&Ol(n,o.deps)){s.memoizedState=ls(t,r,i,n);return}}X.flags|=e,s.memoizedState=ls(1|t,r,i,n)}function Gu(e,t){return ti(8390656,8,e,t)}function Dl(e,t){return Wi(2048,8,e,t)}function Th(e,t){return Wi(4,2,e,t)}function Rh(e,t){return Wi(4,4,e,t)}function Dh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ah(e,t,r){return r=r!=null?r.concat([e]):null,Wi(4,4,Dh.bind(null,t,e),r)}function Al(){}function Lh(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ih(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $h(e,t,r){return xr&21?(nt(r,t)||(r=Bd(),X.lanes|=r,wr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=r)}function d0(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=Ro.transition;Ro.transition={};try{e(!1),t()}finally{H=r,Ro.transition=n}}function Mh(){return Je().memoizedState}function h0(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uh(e))Fh(t,r);else if(r=wh(e,t,r,n),r!==null){var s=_e();tt(r,e,n,s),zh(r,t,n)}}function f0(e,t,r){var n=Jt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uh(e))Fh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,nt(l,o)){var u=t.interleaved;u===null?(s.next=s,Sl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=wh(e,t,s,n),r!==null&&(s=_e(),tt(r,e,n,s),zh(r,t,n))}}function Uh(e){var t=e.alternate;return e===X||t!==null&&t===X}function Fh(e,t){Fn=ki=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dl(e,r)}}var bi={readContext:qe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},m0={readContext:qe,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Gu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ti(4194308,4,Dh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h0.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:Al,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=d0.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,s=at();if(K){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),ce===null)throw Error(N(349));xr&30||Sh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Gu(Ch.bind(null,n,i,e),[e]),n.flags|=2048,ls(9,Nh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=at(),t=ce.identifierPrefix;if(K){var r=xt,n=vt;r=(n&~(1<<32-et(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=os++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=c0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p0={readContext:qe,useCallback:Lh,useContext:qe,useEffect:Dl,useImperativeHandle:Ah,useInsertionEffect:Th,useLayoutEffect:Rh,useMemo:Ih,useReducer:Do,useRef:Oh,useState:function(){return Do(as)},useDebugValue:Al,useDeferredValue:function(e){var t=Je();return $h(t,ie.memoizedState,e)},useTransition:function(){var e=Do(as)[0],t=Je().memoizedState;return[e,t]},useMutableSource:kh,useSyncExternalStore:bh,useId:Mh,unstable_isNewReconciler:!1},g0={readContext:qe,useCallback:Lh,useContext:qe,useEffect:Dl,useImperativeHandle:Ah,useInsertionEffect:Th,useLayoutEffect:Rh,useMemo:Ih,useReducer:Ao,useRef:Oh,useState:function(){return Ao(as)},useDebugValue:Al,useDeferredValue:function(e){var t=Je();return ie===null?t.memoizedState=e:$h(t,ie.memoizedState,e)},useTransition:function(){var e=Ao(as)[0],t=Je().memoizedState;return[e,t]},useMutableSource:kh,useSyncExternalStore:bh,useId:Mh,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ka(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hi={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Jt(e),i=wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(tt(t,e,s,n),Zs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Jt(e),i=wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(tt(t,e,s,n),Zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Jt(e),s=wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,n),t!==null&&(tt(t,e,n,r),Zs(t,e,n))}};function Xu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!es(r,n)||!es(s,i):!0}function Bh(e,t,r){var n=!1,s=Gt,i=t.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Pe(t)?yr:ve.current,n=t.contextTypes,i=(n=n!=null)?nn(e,s):Gt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function ba(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Nl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Pe(t)?yr:ve.current,s.context=nn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ka(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),_i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var r="",n=t;do r+=Hm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Lo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var y0=typeof WeakMap=="function"?WeakMap:Map;function Wh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ni||(Ni=!0,La=n),Sa(e,t)},r}function Hh(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Sa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sa(e,t),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ec(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new y0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=T0.bind(null,e,t,r),t.then(e,e))}function tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var v0=St.ReactCurrentOwner,Ce=!1;function we(e,t,r,n){t.child=e===null?xh(t,null,r,n):on(t,e.child,r,n)}function nc(e,t,r,n,s){r=r.render;var i=t.ref;return Gr(t,s),n=Tl(e,t,r,n,i,s),r=Rl(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(K&&r&&xl(t),t.flags|=1,we(e,t,n,s),t.child)}function sc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Vh(e,t,i,n,s)):(e=ii(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:es,r(o,n)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Qt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(es(i,n)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,bt(e,t,s)}return Na(e,t,r,n,s)}function qh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(qr,Ae),Ae|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(qr,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(qr,Ae),Ae|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,q(qr,Ae),Ae|=n;return we(e,t,s,r),t.child}function Jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,r,n,s){var i=Pe(r)?yr:ve.current;return i=nn(t,i),Gr(t,s),r=Tl(e,t,r,n,i,s),n=Rl(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(K&&n&&xl(t),t.flags|=1,we(e,t,r,s),t.child)}function ic(e,t,r,n,s){if(Pe(r)){var i=!0;gi(t)}else i=!1;if(Gr(t,s),t.stateNode===null)ri(e,t),Bh(t,r,n),ba(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Pe(r)?yr:ve.current,c=nn(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Zu(t,o,n,c),Rt=!1;var f=t.memoizedState;o.state=f,_i(t,n,o,s),u=t.memoizedState,l!==n||f!==u||Ee.current||Rt?(typeof d=="function"&&(ka(t,r,d,n),u=t.memoizedState),(l=Rt||Xu(t,r,l,n,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_h(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ye(t.type,l),o.props=c,h=t.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=Pe(r)?yr:ve.current,u=nn(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==u)&&Zu(t,o,n,u),Rt=!1,f=t.memoizedState,o.state=f,_i(t,n,o,s);var x=t.memoizedState;l!==h||f!==x||Ee.current||Rt?(typeof v=="function"&&(ka(t,r,v,n),x=t.memoizedState),(c=Rt||Xu(t,r,c,n,f,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ca(e,t,r,n,i,s)}function Ca(e,t,r,n,s,i){Jh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Hu(t,r,!1),bt(e,t,i);n=t.stateNode,v0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=on(t,e.child,null,i),t.child=on(t,null,l,i)):we(e,t,l,i),t.memoizedState=n.state,s&&Hu(t,r,!0),t.child}function Qh(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),Cl(e,t.containerInfo)}function oc(e,t,r,n,s){return sn(),_l(s),t.flags|=256,we(e,t,r,n),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yh(e,t,r){var n=t.pendingProps,s=G.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(G,s&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ji(o,n,0,null),e=gr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pa(r),t.memoizedState=Ea,e):Ll(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return x0(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Qt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qt(l,i):(i=gr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Pa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ea,n}return i=e.child,e=i.sibling,n=Qt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ll(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,r,n){return n!==null&&_l(n),on(t,e.child,null,r),e=Ll(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Lo(Error(N(422))),Ms(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ji({mode:"visible",children:n.children},s,0,null),i=gr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&on(t,e.child,null,o),t.child.memoizedState=Pa(o),t.memoizedState=Ea,i);if(!(t.mode&1))return Ms(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(N(419)),n=Lo(i,n,void 0),Ms(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ce||l){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(e,s),tt(n,e,s,-1))}return zl(),n=Lo(Error(N(421))),Ms(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Le=Ht(s.nextSibling),Ie=t,K=!0,Xe=null,e!==null&&(ze[Be++]=vt,ze[Be++]=xt,ze[Be++]=vr,vt=e.id,xt=e.overflow,vr=t),t=Ll(t,n.children),t.flags|=4096,t)}function ac(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ja(e.return,t,r)}function Io(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Kh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=G.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ac(e,r,t);else if(e.tag===19)ac(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(q(G,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ji(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Io(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ji(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Io(t,!0,r,null,i);break;case"together":Io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=Qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function w0(e,t,r){switch(t.tag){case 3:Qh(t),sn();break;case 5:jh(t);break;case 1:Pe(t.type)&&gi(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;q(xi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(q(G,G.current&1),t.flags|=128,null):r&t.child.childLanes?Yh(e,t,r):(q(G,G.current&1),e=bt(e,t,r),e!==null?e.sibling:null);q(G,G.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(G,G.current),n)break;return null;case 22:case 23:return t.lanes=0,qh(e,t,r)}return bt(e,t,r)}var Gh,Oa,Xh,Zh;Gh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oa=function(){};Xh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,mr(dt.current);var i=null;switch(r){case"input":s=Xo(e,s),n=Xo(e,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=ta(e,s),n=ta(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mi)}na(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&J("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Zh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sn(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _0(e,t,r){var n=t.pendingProps;switch(wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&pi(),ge(t),null;case 3:return n=t.stateNode,an(),Q(Ee),Q(ve),Pl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(Ma(Xe),Xe=null))),Oa(e,t),ge(t),null;case 5:El(t);var s=mr(is.current);if(r=t.type,e!==null&&t.stateNode!=null)Xh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return ge(t),null}if(e=mr(dt.current),Is(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ut]=t,n[ns]=i,e=(t.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(s=0;s<Dn.length;s++)J(Dn[s],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":gu(n,i),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},J("invalid",n);break;case"textarea":vu(n,i),J("invalid",n)}na(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,l,e),s=["children",""+l]):Jn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",n)}switch(r){case"input":Cs(n),yu(n,i,!0);break;case"textarea":Cs(n),xu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ut]=t,e[ns]=n,Gh(e,t,!1,!1),t.stateNode=e;e:{switch(o=sa(r,n),r){case"dialog":J("cancel",e),J("close",e),s=n;break;case"iframe":case"object":case"embed":J("load",e),s=n;break;case"video":case"audio":for(s=0;s<Dn.length;s++)J(Dn[s],e);s=n;break;case"source":J("error",e),s=n;break;case"img":case"image":case"link":J("error",e),J("load",e),s=n;break;case"details":J("toggle",e),s=n;break;case"input":gu(e,n),s=Xo(e,n),J("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),J("invalid",e);break;case"textarea":vu(e,n),s=ta(e,n),J("invalid",e);break;default:s=n}na(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Od(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ed(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Qn(e,u):typeof u=="number"&&Qn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&J("scroll",e):u!=null&&il(e,i,u,o))}switch(r){case"input":Cs(e),yu(e,n,!1);break;case"textarea":Cs(e),xu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Jr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Jr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Zh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=mr(is.current),mr(dt.current),Is(t)){if(n=t.stateNode,r=t.memoizedProps,n[ut]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:Ls(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=t,t.stateNode=n}return ge(t),null;case 13:if(Q(G),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&Le!==null&&t.mode&1&&!(t.flags&128))yh(),sn(),t.flags|=98560,i=!1;else if(i=Is(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ut]=t}else sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Xe!==null&&(Ma(Xe),Xe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?oe===0&&(oe=3):zl())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return an(),Oa(e,t),e===null&&ts(t.stateNode.containerInfo),ge(t),null;case 10:return bl(t.type._context),ge(t),null;case 17:return Pe(t.type)&&pi(),ge(t),null;case 19:if(Q(G),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Sn(i,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ji(e),o!==null){for(t.flags|=128,Sn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return q(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>un&&(t.flags|=128,n=!0,Sn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ji(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return ge(t),null}else 2*re()-i.renderingStartTime>un&&r!==1073741824&&(t.flags|=128,n=!0,Sn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,r=G.current,q(G,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return Fl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function j0(e,t){switch(wl(t),t.tag){case 1:return Pe(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),Q(Ee),Q(ve),Pl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return El(t),null;case 13:if(Q(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(G),null;case 4:return an(),null;case 10:return bl(t.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var Us=!1,ye=!1,k0=typeof WeakSet=="function"?WeakSet:Set,O=null;function Vr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(e,t,n)}else r.current=null}function Ta(e,t,r){try{r()}catch(n){ee(e,t,n)}}var lc=!1;function b0(e,t){if(ma=di,e=sh(),vl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++c===s&&(l=o),f===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(pa={focusedElem:e,selectionRange:r},di=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,k=x.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ye(t.type,w),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(y){ee(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=lc,lc=!1,x}function zn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ta(t,r,i)}s=s.next}while(s!==n)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ra(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ef(e){var t=e.alternate;t!==null&&(e.alternate=null,ef(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[ns],delete t[va],delete t[o0],delete t[a0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tf(e){return e.tag===5||e.tag===3||e.tag===4}function uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Da(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mi));else if(n!==4&&(e=e.child,e!==null))for(Da(e,t,r),e=e.sibling;e!==null;)Da(e,t,r),e=e.sibling}function Aa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Aa(e,t,r),e=e.sibling;e!==null;)Aa(e,t,r),e=e.sibling}var de=null,Ke=!1;function Ct(e,t,r){for(r=r.child;r!==null;)rf(e,t,r),r=r.sibling}function rf(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount($i,r)}catch{}switch(r.tag){case 5:ye||Vr(r,t);case 6:var n=de,s=Ke;de=null,Ct(e,t,r),de=n,Ke=s,de!==null&&(Ke?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ke?(e=de,r=r.stateNode,e.nodeType===8?Po(e.parentNode,r):e.nodeType===1&&Po(e,r),Xn(e)):Po(de,r.stateNode));break;case 4:n=de,s=Ke,de=r.stateNode.containerInfo,Ke=!0,Ct(e,t,r),de=n,Ke=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ta(r,t,o),s=s.next}while(s!==n)}Ct(e,t,r);break;case 1:if(!ye&&(Vr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ee(r,t,l)}Ct(e,t,r);break;case 21:Ct(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Ct(e,t,r),ye=n):Ct(e,t,r);break;default:Ct(e,t,r)}}function cc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new k0),t.forEach(function(n){var s=D0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Ke=!1;break e;case 3:de=l.stateNode.containerInfo,Ke=!0;break e;case 4:de=l.stateNode.containerInfo,Ke=!0;break e}l=l.return}if(de===null)throw Error(N(160));rf(i,o,s),de=null,Ke=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ee(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nf(t,e),t=t.sibling}function nf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),it(e),n&4){try{zn(3,e,e.return),Vi(3,e)}catch(w){ee(e,e.return,w)}try{zn(5,e,e.return)}catch(w){ee(e,e.return,w)}}break;case 1:Qe(t,e),it(e),n&512&&r!==null&&Vr(r,r.return);break;case 5:if(Qe(t,e),it(e),n&512&&r!==null&&Vr(r,r.return),e.flags&32){var s=e.stateNode;try{Qn(s,"")}catch(w){ee(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sd(s,i),sa(l,o);var c=sa(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Od(s,h):d==="dangerouslySetInnerHTML"?Ed(s,h):d==="children"?Qn(s,h):il(s,d,h,c)}switch(l){case"input":Zo(s,i);break;case"textarea":Nd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Jr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Jr(s,!!i.multiple,i.defaultValue,!0):Jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ns]=i}catch(w){ee(e,e.return,w)}}break;case 6:if(Qe(t,e),it(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ee(e,e.return,w)}}break;case 3:if(Qe(t,e),it(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch(w){ee(e,e.return,w)}break;case 4:Qe(t,e),it(e);break;case 13:Qe(t,e),it(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ml=re())),n&4&&cc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(c=ye)||d,Qe(t,e),ye=c):Qe(t,e),it(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,v=f.child,f.tag){case 0:case 11:case 14:case 15:zn(4,f,f.return);break;case 1:Vr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){ee(n,r,w)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){hc(h);continue}}v!==null?(v.return=f,O=v):hc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Pd("display",o))}catch(w){ee(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ee(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qe(t,e),it(e),n&4&&cc(e);break;case 21:break;default:Qe(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tf(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qn(s,""),n.flags&=-33);var i=uc(e);Aa(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=uc(e);Da(e,l,o);break;default:throw Error(N(161))}}catch(u){ee(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S0(e,t,r){O=e,sf(e)}function sf(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Us;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ye;l=Us;var c=ye;if(Us=o,(ye=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?fc(s):u!==null?(u.return=o,O=u):fc(s);for(;i!==null;)O=i,sf(i),i=i.sibling;O=s,Us=l,ye=c}dc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):dc(e)}}function dc(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Vi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ye||t.flags&512&&Ra(t)}catch(f){ee(t,t.return,f)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function hc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function fc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vi(4,t)}catch(u){ee(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ee(t,s,u)}}var i=t.return;try{Ra(t)}catch(u){ee(t,i,u)}break;case 5:var o=t.return;try{Ra(t)}catch(u){ee(t,o,u)}}}catch(u){ee(t,t.return,u)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var N0=Math.ceil,Si=St.ReactCurrentDispatcher,Il=St.ReactCurrentOwner,He=St.ReactCurrentBatchConfig,z=0,ce=null,se=null,he=0,Ae=0,qr=er(0),oe=0,us=null,wr=0,qi=0,$l=0,Bn=null,Se=null,Ml=0,un=1/0,pt=null,Ni=!1,La=null,qt=null,Fs=!1,Mt=null,Ci=0,Wn=0,Ia=null,ni=-1,si=0;function _e(){return z&6?re():ni!==-1?ni:ni=re()}function Jt(e){return e.mode&1?z&2&&he!==0?he&-he:u0.transition!==null?(si===0&&(si=Bd()),si):(e=H,e!==0||(e=window.event,e=e===void 0?16:Yd(e.type)),e):1}function tt(e,t,r,n){if(50<Wn)throw Wn=0,Ia=null,Error(N(185));ps(e,r,n),(!(z&2)||e!==ce)&&(e===ce&&(!(z&2)&&(qi|=r),oe===4&&Lt(e,he)),Oe(e,n),r===1&&z===0&&!(t.mode&1)&&(un=re()+500,Bi&&tr()))}function Oe(e,t){var r=e.callbackNode;up(e,t);var n=ci(e,e===ce?he:0);if(n===0)r!==null&&ju(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ju(r),t===1)e.tag===0?l0(mc.bind(null,e)):mh(mc.bind(null,e)),s0(function(){!(z&6)&&tr()}),r=null;else{switch(Wd(n)){case 1:r=cl;break;case 4:r=Fd;break;case 16:r=ui;break;case 536870912:r=zd;break;default:r=ui}r=ff(r,of.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function of(e,t){if(ni=-1,si=0,z&6)throw Error(N(327));var r=e.callbackNode;if(Xr()&&e.callbackNode!==r)return null;var n=ci(e,e===ce?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ei(e,n);else{t=n;var s=z;z|=2;var i=lf();(ce!==e||he!==t)&&(pt=null,un=re()+500,pr(e,t));do try{P0();break}catch(l){af(e,l)}while(!0);kl(),Si.current=i,z=s,se!==null?t=0:(ce=null,he=0,t=oe)}if(t!==0){if(t===2&&(s=ua(e),s!==0&&(n=s,t=$a(e,s))),t===1)throw r=us,pr(e,0),Lt(e,n),Oe(e,re()),r;if(t===6)Lt(e,n);else{if(s=e.current.alternate,!(n&30)&&!C0(s)&&(t=Ei(e,n),t===2&&(i=ua(e),i!==0&&(n=i,t=$a(e,i))),t===1))throw r=us,pr(e,0),Lt(e,n),Oe(e,re()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:lr(e,Se,pt);break;case 3:if(Lt(e,n),(n&130023424)===n&&(t=Ml+500-re(),10<t)){if(ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ya(lr.bind(null,e,Se,pt),t);break}lr(e,Se,pt);break;case 4:if(Lt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-et(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N0(n/1960))-n,10<n){e.timeoutHandle=ya(lr.bind(null,e,Se,pt),n);break}lr(e,Se,pt);break;case 5:lr(e,Se,pt);break;default:throw Error(N(329))}}}return Oe(e,re()),e.callbackNode===r?of.bind(null,e):null}function $a(e,t){var r=Bn;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=Ei(e,t),e!==2&&(t=Se,Se=r,t!==null&&Ma(t)),e}function Ma(e){Se===null?Se=e:Se.push.apply(Se,e)}function C0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~$l,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-et(t),n=1<<r;e[r]=-1,t&=~n}}function mc(e){if(z&6)throw Error(N(327));Xr();var t=ci(e,0);if(!(t&1))return Oe(e,re()),null;var r=Ei(e,t);if(e.tag!==0&&r===2){var n=ua(e);n!==0&&(t=n,r=$a(e,n))}if(r===1)throw r=us,pr(e,0),Lt(e,t),Oe(e,re()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,Se,pt),Oe(e,re()),null}function Ul(e,t){var r=z;z|=1;try{return e(t)}finally{z=r,z===0&&(un=re()+500,Bi&&tr())}}function _r(e){Mt!==null&&Mt.tag===0&&!(z&6)&&Xr();var t=z;z|=1;var r=He.transition,n=H;try{if(He.transition=null,H=1,e)return e()}finally{H=n,He.transition=r,z=t,!(z&6)&&tr()}}function Fl(){Ae=qr.current,Q(qr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,n0(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(wl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pi();break;case 3:an(),Q(Ee),Q(ve),Pl();break;case 5:El(n);break;case 4:an();break;case 13:Q(G);break;case 19:Q(G);break;case 10:bl(n.type._context);break;case 22:case 23:Fl()}r=r.return}if(ce=e,se=e=Qt(e.current,null),he=Ae=t,oe=0,us=null,$l=qi=wr=0,Se=Bn=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}fr=null}return e}function af(e,t){do{var r=se;try{if(kl(),ei.current=bi,ki){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ki=!1}if(xr=0,ue=ie=X=null,Fn=!1,os=0,Il.current=null,r===null||r.return===null){oe=1,us=t,se=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=he,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=tc(o);if(v!==null){v.flags&=-257,rc(v,o,l,i,t),v.mode&1&&ec(i,c,t),t=v,u=c;var x=t.updateQueue;if(x===null){var w=new Set;w.add(u),t.updateQueue=w}else x.add(u);break e}else{if(!(t&1)){ec(i,c,t),zl();break e}u=Error(N(426))}}else if(K&&l.mode&1){var k=tc(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),rc(k,o,l,i,t),_l(ln(u,l));break e}}i=u=ln(u,l),oe!==4&&(oe=2),Bn===null?Bn=[i]:Bn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Wh(i,u,t);Qu(i,p);break e;case 1:l=u;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qt===null||!qt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=Hh(i,l,t);Qu(i,y);break e}}i=i.return}while(i!==null)}cf(r)}catch(b){t=b,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function lf(){var e=Si.current;return Si.current=bi,e===null?bi:e}function zl(){(oe===0||oe===3||oe===2)&&(oe=4),ce===null||!(wr&268435455)&&!(qi&268435455)||Lt(ce,he)}function Ei(e,t){var r=z;z|=2;var n=lf();(ce!==e||he!==t)&&(pt=null,pr(e,t));do try{E0();break}catch(s){af(e,s)}while(!0);if(kl(),z=r,Si.current=n,se!==null)throw Error(N(261));return ce=null,he=0,oe}function E0(){for(;se!==null;)uf(se)}function P0(){for(;se!==null&&!ep();)uf(se)}function uf(e){var t=hf(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?cf(e):se=t,Il.current=null}function cf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j0(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,se=null;return}}else if(r=_0(r,t,Ae),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);oe===0&&(oe=5)}function lr(e,t,r){var n=H,s=He.transition;try{He.transition=null,H=1,O0(e,t,r,n)}finally{He.transition=s,H=n}return null}function O0(e,t,r,n){do Xr();while(Mt!==null);if(z&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(cp(e,i),e===ce&&(se=ce=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fs||(Fs=!0,ff(ui,function(){return Xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=He.transition,He.transition=null;var o=H;H=1;var l=z;z|=4,Il.current=null,b0(e,r),nf(r,e),Kp(pa),di=!!ma,pa=ma=null,e.current=r,S0(r),tp(),z=l,H=o,He.transition=i}else e.current=r;if(Fs&&(Fs=!1,Mt=e,Ci=s),i=e.pendingLanes,i===0&&(qt=null),sp(r.stateNode),Oe(e,re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ni)throw Ni=!1,e=La,La=null,e;return Ci&1&&e.tag!==0&&Xr(),i=e.pendingLanes,i&1?e===Ia?Wn++:(Wn=0,Ia=e):Wn=0,tr(),null}function Xr(){if(Mt!==null){var e=Wd(Ci),t=He.transition,r=H;try{if(He.transition=null,H=16>e?16:e,Mt===null)var n=!1;else{if(e=Mt,Mt=null,Ci=0,z&6)throw Error(N(331));var s=z;for(z|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:zn(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,v=d.return;if(ef(d),d===c){O=null;break}if(f!==null){f.return=v,O=f;break}O=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var m=e.current;for(O=m;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vi(9,l)}}catch(b){ee(l,l.return,b)}if(l===o){O=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,O=y;break e}O=l.return}}if(z=s,tr(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot($i,e)}catch{}n=!0}return n}finally{H=r,He.transition=t}}return!1}function pc(e,t,r){t=ln(r,t),t=Wh(e,t,1),e=Vt(e,t,1),t=_e(),e!==null&&(ps(e,1,t),Oe(e,t))}function ee(e,t,r){if(e.tag===3)pc(e,e,r);else for(;t!==null;){if(t.tag===3){pc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){e=ln(r,e),e=Hh(t,e,1),t=Vt(t,e,1),e=_e(),t!==null&&(ps(t,1,e),Oe(t,e));break}}t=t.return}}function T0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(he&r)===r&&(oe===4||oe===3&&(he&130023424)===he&&500>re()-Ml?pr(e,0):$l|=r),Oe(e,t)}function df(e,t){t===0&&(e.mode&1?(t=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):t=1);var r=_e();e=kt(e,t),e!==null&&(ps(e,t,r),Oe(e,r))}function R0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),df(e,r)}function D0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),df(e,r)}var hf;hf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Ce=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ce=!1,w0(e,t,r);Ce=!!(e.flags&131072)}else Ce=!1,K&&t.flags&1048576&&ph(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ri(e,t),e=t.pendingProps;var s=nn(t,ve.current);Gr(t,r),s=Tl(null,t,n,e,s,r);var i=Rl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(i=!0,gi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nl(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,ba(t,n,e,r),t=Ca(null,t,n,!0,i,r)):(t.tag=0,K&&i&&xl(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=L0(n),e=Ye(n,e),s){case 0:t=Na(null,t,n,e,r);break e;case 1:t=ic(null,t,n,e,r);break e;case 11:t=nc(null,t,n,e,r);break e;case 14:t=sc(null,t,n,Ye(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Na(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),ic(e,t,n,s,r);case 3:e:{if(Qh(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_h(e,t),_i(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ln(Error(N(423)),t),t=oc(e,t,n,r,s);break e}else if(n!==s){s=ln(Error(N(424)),t),t=oc(e,t,n,r,s);break e}else for(Le=Ht(t.stateNode.containerInfo.firstChild),Ie=t,K=!0,Xe=null,r=xh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),n===s){t=bt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return jh(t),e===null&&_a(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ga(n,s)?o=null:i!==null&&ga(n,i)&&(t.flags|=32),Jh(e,t),we(e,t,o,r),t.child;case 6:return e===null&&_a(t),null;case 13:return Yh(e,t,r);case 4:return Cl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=on(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),nc(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,q(xi,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Ee.current){t=bt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=wt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ja(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ja(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gr(t,r),s=qe(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=Ye(n,t.pendingProps),s=Ye(n.type,s),sc(e,t,n,s,r);case 15:return Vh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),ri(e,t),t.tag=1,Pe(n)?(e=!0,gi(t)):e=!1,Gr(t,r),Bh(t,n,s),ba(t,n,s,r),Ca(null,t,n,!0,e,r);case 19:return Kh(e,t,r);case 22:return qh(e,t,r)}throw Error(N(156,t.tag))};function ff(e,t){return Ud(e,t)}function A0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,r,n){return new A0(e,t,r,n)}function Bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L0(e){if(typeof e=="function")return Bl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===al)return 11;if(e===ll)return 14}return 2}function Qt(e,t){var r=e.alternate;return r===null?(r=We(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ii(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Bl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ir:return gr(r.children,s,i,t);case ol:o=8,s|=8;break;case Qo:return e=We(12,r,t,s|2),e.elementType=Qo,e.lanes=i,e;case Yo:return e=We(13,r,t,s),e.elementType=Yo,e.lanes=i,e;case Ko:return e=We(19,r,t,s),e.elementType=Ko,e.lanes=i,e;case jd:return Ji(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wd:o=10;break e;case _d:o=9;break e;case al:o=11;break e;case ll:o=14;break e;case Tt:o=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=We(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function gr(e,t,r,n){return e=We(7,e,n,t),e.lanes=r,e}function Ji(e,t,r,n){return e=We(22,e,n,t),e.elementType=jd,e.lanes=r,e.stateNode={isHidden:!1},e}function $o(e,t,r){return e=We(6,e,null,t),e.lanes=r,e}function Mo(e,t,r){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wl(e,t,r,n,s,i,o,l,u){return e=new I0(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=We(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nl(i),e}function $0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mf(e){if(!e)return Gt;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Pe(r))return fh(e,r,t)}return t}function pf(e,t,r,n,s,i,o,l,u){return e=Wl(r,n,!0,e,s,i,o,l,u),e.context=mf(null),r=e.current,n=_e(),s=Jt(r),i=wt(n,s),i.callback=t??null,Vt(r,i,s),e.current.lanes=s,ps(e,s,n),Oe(e,n),e}function Qi(e,t,r,n){var s=t.current,i=_e(),o=Jt(s);return r=mf(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(s,t,o),e!==null&&(tt(e,s,o,i),Zs(e,s,o)),o}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hl(e,t){gc(e,t),(e=e.alternate)&&gc(e,t)}function M0(){return null}var gf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}Yi.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Qi(e,t,null,null)};Yi.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){Qi(null,e,null,null)}),t[jt]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<At.length&&t!==0&&t<At[r].priority;r++);At.splice(r,0,e),r===0&&Qd(e)}};function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yc(){}function U0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Pi(o);i.call(c)}}var o=pf(t,n,e,0,null,!1,!1,"",yc);return e._reactRootContainer=o,e[jt]=o.current,ts(e.nodeType===8?e.parentNode:e),_r(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Pi(u);l.call(c)}}var u=Wl(e,0,!1,null,null,!1,!1,"",yc);return e._reactRootContainer=u,e[jt]=u.current,ts(e.nodeType===8?e.parentNode:e),_r(function(){Qi(t,u,r,n)}),u}function Gi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Pi(o);l.call(u)}}Qi(t,o,e,s)}else o=U0(r,t,e,s,n);return Pi(o)}Hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rn(t.pendingLanes);r!==0&&(dl(t,r|1),Oe(t,re()),!(z&6)&&(un=re()+500,tr()))}break;case 13:_r(function(){var n=kt(e,1);if(n!==null){var s=_e();tt(n,e,1,s)}}),Hl(e,1)}};hl=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=_e();tt(t,e,134217728,r)}Hl(e,134217728)}};Vd=function(e){if(e.tag===13){var t=Jt(e),r=kt(e,t);if(r!==null){var n=_e();tt(r,e,t,n)}Hl(e,t)}};qd=function(){return H};Jd=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};oa=function(e,t,r){switch(t){case"input":if(Zo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=zi(n);if(!s)throw Error(N(90));bd(n),Zo(n,s)}}}break;case"textarea":Nd(e,r);break;case"select":t=r.value,t!=null&&Jr(e,!!r.multiple,t,!1)}};Dd=Ul;Ad=_r;var F0={usingClientEntryPoint:!1,Events:[ys,Fr,zi,Td,Rd,Ul]},Nn={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z0={bundleType:Nn.bundleType,version:Nn.version,rendererPackageName:Nn.rendererPackageName,rendererConfig:Nn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$d(e),e===null?null:e.stateNode},findFiberByHostInstance:Nn.findFiberByHostInstance||M0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{$i=zs.inject(z0),ct=zs}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;Me.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ql(t))throw Error(N(200));return $0(e,t,null,r)};Me.createRoot=function(e,t){if(!ql(e))throw Error(N(299));var r=!1,n="",s=gf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wl(e,1,!1,null,null,r,!1,n,s),e[jt]=t.current,ts(e.nodeType===8?e.parentNode:e),new Vl(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=$d(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return _r(e)};Me.hydrate=function(e,t,r){if(!Ki(t))throw Error(N(200));return Gi(null,e,t,!0,r)};Me.hydrateRoot=function(e,t,r){if(!ql(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=gf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pf(t,null,e,1,r??null,s,!1,i,o),e[jt]=t.current,ts(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yi(t)};Me.render=function(e,t,r){if(!Ki(t))throw Error(N(200));return Gi(null,e,t,!1,r)};Me.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(N(40));return e._reactRootContainer?(_r(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Me.unstable_batchedUpdates=Ul;Me.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ki(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Gi(e,t,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function yf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yf)}catch(e){console.error(e)}}yf(),gd.exports=Me;var B0=gd.exports,vf,vc=B0;vf=vc.createRoot,vc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(this,arguments)}var Ut;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ut||(Ut={}));const xc="popstate";function W0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Ua("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Oi(s)}return V0(t,r,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H0(){return Math.random().toString(36).substr(2,8)}function wc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ua(e,t,r,n){return r===void 0&&(r=null),cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pn(t):t,{state:r,key:t&&t.key||n||H0()})}function Oi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function V0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ut.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(cs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ut.Pop;let k=d(),p=k==null?null:k-c;c=k,u&&u({action:l,location:w.location,delta:p})}function f(k,p){l=Ut.Push;let m=Ua(w.location,k,p);c=d()+1;let g=wc(m,c),y=w.createHref(m);try{o.pushState(g,"",y)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(y)}i&&u&&u({action:l,location:w.location,delta:1})}function v(k,p){l=Ut.Replace;let m=Ua(w.location,k,p);c=d();let g=wc(m,c),y=w.createHref(m);o.replaceState(g,"",y),i&&u&&u({action:l,location:w.location,delta:0})}function x(k){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof k=="string"?k:Oi(k);return m=m.replace(/ $/,"%20"),ne(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return l},get location(){return e(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(xc,h),u=k,()=>{s.removeEventListener(xc,h),u=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let p=x(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:v,go(k){return o.go(k)}};return w}var _c;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_c||(_c={}));function q0(e,t,r){return r===void 0&&(r="/"),J0(e,t,r,!1)}function J0(e,t,r,n){let s=typeof t=="string"?pn(t):t,i=Jl(s.pathname||"/",r);if(i==null)return null;let o=wf(e);Q0(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=ig(i);l=ng(o[u],c,n)}return l}function wf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ne(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Yt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wf(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:tg(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of _f(i.path))s(i,o,u)}),t}function _f(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=_f(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Q0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y0=/^:[\w-]+$/,K0=3,G0=2,X0=1,Z0=10,eg=-2,jc=e=>e==="*";function tg(e,t){let r=e.split("/"),n=r.length;return r.some(jc)&&(n+=eg),t&&(n+=G0),r.filter(s=>!jc(s)).reduce((s,i)=>s+(Y0.test(i)?K0:i===""?X0:Z0),n)}function rg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ng(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Yt([i,h.pathname]),pathnameBase:ug(Yt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Yt([i,h.pathnameBase]))}return o}function kc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[h];return v&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function sg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ig(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function og(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pn(e):e;return{pathname:r?r.startsWith("/")?r:ag(r,t):t,search:cg(n),hash:dg(s)}}function ag(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Uo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ql(e,t){let r=lg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=pn(e):(s=cs({},e),ne(!s.pathname||!s.pathname.includes("?"),Uo("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Uo("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Uo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let u=og(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Yt=e=>e.join("/").replace(/\/\/+/g,"/"),ug=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jf=["post","put","patch","delete"];new Set(jf);const fg=["get",...jf];new Set(fg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(this,arguments)}const Kl=_.createContext(null),mg=_.createContext(null),rr=_.createContext(null),Xi=_.createContext(null),ft=_.createContext({outlet:null,matches:[],isDataRoute:!1}),kf=_.createContext(null);function pg(e,t){let{relative:r}=t===void 0?{}:t;gn()||ne(!1);let{basename:n,navigator:s}=_.useContext(rr),{hash:i,pathname:o,search:l}=Nf(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Yt([n,o])),s.createHref({pathname:u,search:l,hash:i})}function gn(){return _.useContext(Xi)!=null}function Nt(){return gn()||ne(!1),_.useContext(Xi).location}function bf(e){_.useContext(rr).static||_.useLayoutEffect(e)}function Nr(){let{isDataRoute:e}=_.useContext(ft);return e?Og():gg()}function gg(){gn()||ne(!1);let e=_.useContext(Kl),{basename:t,future:r,navigator:n}=_.useContext(rr),{matches:s}=_.useContext(ft),{pathname:i}=Nt(),o=JSON.stringify(Ql(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return bf(()=>{l.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=Yl(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Yt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const yg=_.createContext(null);function vg(e){let t=_.useContext(ft).outlet;return t&&_.createElement(yg.Provider,{value:e},t)}function Sf(){let{matches:e}=_.useContext(ft),t=e[e.length-1];return t?t.params:{}}function Nf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(rr),{matches:s}=_.useContext(ft),{pathname:i}=Nt(),o=JSON.stringify(Ql(s,n.v7_relativeSplatPath));return _.useMemo(()=>Yl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function xg(e,t){return wg(e,t)}function wg(e,t,r,n){gn()||ne(!1);let{navigator:s,static:i}=_.useContext(rr),{matches:o}=_.useContext(ft),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Nt(),h;if(t){var f;let p=typeof t=="string"?pn(t):t;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||ne(!1),h=p}else h=d;let v=h.pathname||"/",x=v;if(c!=="/"){let p=c.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:q0(e,{pathname:x}),k=Sg(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:Yt([c,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:Yt([c,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,r,n);return t&&k?_.createElement(Xi.Provider,{value:{location:ds({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ut.Pop}},k):k}function _g(){let e=Pg(),t=hg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const jg=_.createElement(_g,null);class kg extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(ft.Provider,{value:this.props.routeContext},_.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bg(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(Kl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(ft.Provider,{value:t},n)}function Sg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ne(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,x=!1,w=null,k=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||jg,u&&(c<0&&f===0?(x=!0,k=null):c===f&&(x=!0,k=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),m=()=>{let g;return v?g=w:x?g=k:h.route.Component?g=_.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,_.createElement(bg,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(kg,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Cf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cf||{}),Ti=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ti||{});function Ng(e){let t=_.useContext(Kl);return t||ne(!1),t}function Cg(e){let t=_.useContext(mg);return t||ne(!1),t}function Eg(e){let t=_.useContext(ft);return t||ne(!1),t}function Ef(e){let t=Eg(),r=t.matches[t.matches.length-1];return r.route.id||ne(!1),r.route.id}function Pg(){var e;let t=_.useContext(kf),r=Cg(Ti.UseRouteError),n=Ef(Ti.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Og(){let{router:e}=Ng(Cf.UseNavigateStable),t=Ef(Ti.UseNavigateStable),r=_.useRef(!1);return bf(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ds({fromRouteId:t},i)))},[e,t])}function Tg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zr(e){let{to:t,replace:r,state:n,relative:s}=e;gn()||ne(!1);let{future:i,static:o}=_.useContext(rr),{matches:l}=_.useContext(ft),{pathname:u}=Nt(),c=Nr(),d=Yl(t,Ql(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Rg(e){return vg(e.context)}function xe(e){ne(!1)}function Dg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ut.Pop,navigator:i,static:o=!1,future:l}=e;gn()&&ne(!1);let u=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:i,static:o,future:ds({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof n=="string"&&(n=pn(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:x="default"}=n,w=_.useMemo(()=>{let k=Jl(d,u);return k==null?null:{location:{pathname:k,search:h,hash:f,state:v,key:x},navigationType:s}},[u,d,h,f,v,x,s]);return w==null?null:_.createElement(rr.Provider,{value:c},_.createElement(Xi.Provider,{children:r,value:w}))}function Ag(e){let{children:t,location:r}=e;return xg(Fa(t),r)}new Promise(()=>{});function Fa(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,Fa(n.props.children,i));return}n.type!==xe&&ne(!1),!n.props.index||!n.props.children||ne(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},za.apply(this,arguments)}function Lg(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Ig(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $g(e,t){return e.button===0&&(!t||t==="_self")&&!Ig(e)}const Mg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ug="6";try{window.__reactRouterVersion=Ug}catch{}const Fg="startTransition",bc=Tm[Fg];function zg(e){let{basename:t,children:r,future:n,window:s}=e,i=_.useRef();i.current==null&&(i.current=W0({window:s,v5Compat:!0}));let o=i.current,[l,u]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=_.useCallback(h=>{c&&bc?bc(()=>u(h)):u(h)},[u,c]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>Tg(n),[n]),_.createElement(Dg,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,f=Lg(t,Mg),{basename:v}=_.useContext(rr),x,w=!1;if(typeof c=="string"&&Wg.test(c)&&(x=c,Bg))try{let g=new URL(window.location.href),y=c.startsWith("//")?new URL(g.protocol+c):new URL(c),b=Jl(y.pathname,v);y.origin===g.origin&&b!=null?c=b+y.search+y.hash:w=!0}catch{}let k=pg(c,{relative:s}),p=Hg(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function m(g){n&&n(g),g.defaultPrevented||p(g)}return _.createElement("a",za({},f,{href:x||k,onClick:w||i?n:m,ref:r,target:u}))});var Sc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var Nc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nc||(Nc={}));function Hg(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,u=Nr(),c=Nt(),d=Nf(e,{relative:o});return _.useCallback(h=>{if($g(h,r)){h.preventDefault();let f=n!==void 0?n:Oi(c)===Oi(d);u(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,n,s,r,e,i,o,l])}const Vg="modulepreload",qg=function(e){return"/"+e},Cc={},cn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=qg(u),u in Cc)return;Cc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Vg,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Jg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>yn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Gl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Qg extends Gl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yg extends Gl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Kg extends Gl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ba;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ba||(Ba={}));var Gg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Xg{constructor(t,{headers:r={},customFetch:n,region:s=Ba.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Jg(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Gg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(x=>{throw new Qg(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Yg(d);if(!d.ok)throw new Kg(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ne={},Xl={},Zi={},xs={},eo={},to={},Zg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dn=Zg();const ey=dn.fetch,Pf=dn.fetch.bind(dn),Of=dn.Headers,ty=dn.Request,ry=dn.Response,yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Of,Request:ty,Response:ry,default:Pf,fetch:ey},Symbol.toStringTag,{value:"Module"})),ny=pm(yn);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});let sy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ro.default=sy;var Tf=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(to,"__esModule",{value:!0});const iy=Tf(ny),oy=Tf(ro);let ay=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=iy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new oy.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};to.default=ay;var ly=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eo,"__esModule",{value:!0});const uy=ly(to);let cy=class extends uy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};eo.default=cy;var dy=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xs,"__esModule",{value:!0});const hy=dy(eo);let fy=class extends hy.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};xs.default=fy;var my=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const Cn=my(xs);let py=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Cn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Cn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Cn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zi.default=py;var no={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.version=void 0;so.version="0.0.0-automated";Object.defineProperty(no,"__esModule",{value:!0});no.DEFAULT_HEADERS=void 0;const gy=so;no.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${gy.version}`};var Rf=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});const yy=Rf(Zi),vy=Rf(xs),xy=no;let wy=class Df{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},xy.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new yy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Df(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new vy.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Xl.default=wy;var vn=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const Af=vn(Xl);Ne.PostgrestClient=Af.default;const Lf=vn(Zi);Ne.PostgrestQueryBuilder=Lf.default;const If=vn(xs);Ne.PostgrestFilterBuilder=If.default;const $f=vn(eo);Ne.PostgrestTransformBuilder=$f.default;const Mf=vn(to);Ne.PostgrestBuilder=Mf.default;const Uf=vn(ro);Ne.PostgrestError=Uf.default;var _y=Ne.default={PostgrestClient:Af.default,PostgrestQueryBuilder:Lf.default,PostgrestFilterBuilder:If.default,PostgrestTransformBuilder:$f.default,PostgrestBuilder:Mf.default,PostgrestError:Uf.default};const{PostgrestClient:jy,PostgrestQueryBuilder:r1,PostgrestFilterBuilder:n1,PostgrestTransformBuilder:s1,PostgrestBuilder:i1,PostgrestError:o1}=_y,ky="2.11.2",by={"X-Client-Info":`realtime-js/${ky}`},Sy="1.0.0",Ff=1e4,Ny=1e3;var en;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(en||(en={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var Ge;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ge||(Ge={}));var Wa;(function(e){e.websocket="websocket"})(Wa||(Wa={}));var dr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dr||(dr={}));class Cy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class zf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(V||(V={}));const Ec=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ey(o,e,t,s),i),{})},Ey=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Bf(i,o):Ha(o)},Bf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ry(t,r)}switch(e){case V.bool:return Py(t);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Oy(t);case V.json:case V.jsonb:return Ty(t);case V.timestamp:return Dy(t);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Ha(t);default:return Ha(t)}},Ha=e=>e,Py=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Oy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ty=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ry=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Bf(t,l))}return e},Dy=e=>typeof e=="string"?e.replace(" ","T"):e,Wf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Fo{constructor(t,r,n={},s=Ff){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pc||(Pc={}));class Hn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Hn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),x=d.filter(k=>v.indexOf(k.presence_ref)<0),w=h.filter(k=>f.indexOf(k.presence_ref)<0);x.length>0&&(l[c]=x),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const h=t[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}n(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Oc||(Oc={}));var Tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tc||(Tc={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Zl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fo(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new zf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=Wf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(gt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(gt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(gt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<v;w++){const k=f[w],{filter:{event:p,schema:m,table:g,filter:y}}=k,b=d&&d[w];if(b&&b.event===p&&b.schema===m&&b.table===g&&b.filter===y)x.push(Object.assign(Object.assign({},k),{id:b.id}));else{this.unsubscribe(),t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(gt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Fo(this,Ge.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Ge;if(n&&[l,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,w,k;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(w=v.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,w,k,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,b=(x=v.filter)===null||x===void 0?void 0:x.event;return y&&((w=r.ids)===null||w===void 0?void 0:w.includes(y))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const y=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return y==="*"||y===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:k,commit_timestamp:p,type:m,errors:g}=x;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(f,n)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ge.close,{},t)}_onError(t){this._on(Ge.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ec(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ec(t.columns,t.old_record)),r}}const Ay=()=>{},Ly=typeof WebSocket<"u",Iy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $y{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=by,this.params={},this.timeout=Ff,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ay,this.conn=null,this.sendBuffer=[],this.serializer=new Cy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>cn(async()=>{const{default:u}=await Promise.resolve().then(()=>yn);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Wa.websocket}`,this.httpEndpoint=Wf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ly){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new My(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),cn(async()=>{const{default:t}=await import("./browser-BBmTUiGi.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sy}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return dr.Connecting;case en.open:return dr.Open;case en.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}channel(t,r={config:{}}){const n=new Zl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ge.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ny,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ge.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Iy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class My{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=en.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class eu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Uy extends eu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Va extends eu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Fy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Hf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>yn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zy=()=>Fy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cn(()=>Promise.resolve().then(()=>yn),void 0)).Response:Response}),qa=e=>{if(Array.isArray(e))return e.map(r=>qa(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=qa(n)}),t};var Cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const zo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),By=(e,t,r)=>Cr(void 0,void 0,void 0,function*(){const n=yield zy();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Uy(zo(s),e.status||500))}).catch(s=>{t(new Va(zo(s),s))}):t(new Va(zo(e),e))}),Wy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ws(e,t,r,n,s,i){return Cr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Wy(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>By(u,l,n))})})}function Ri(e,t,r,n){return Cr(this,void 0,void 0,function*(){return ws(e,"GET",t,r,n)})}function Dt(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return ws(e,"POST",t,n,s,r)})}function Hy(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return ws(e,"PUT",t,n,s,r)})}function Vy(e,t,r,n){return Cr(this,void 0,void 0,function*(){return ws(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vf(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return ws(e,"DELETE",t,n,s,r)})}var be=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const qy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jy{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Hf(s)}uploadOrUpdate(t,r,n,s){return be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Rc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Rc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(le(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(t,r,n){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return be(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return be(this,void 0,void 0,function*(){try{const s=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}download(t,r){return be(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ri(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}})}info(t){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ri(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qa(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(t){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Vy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof Va){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return be(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(t,r,n){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qy),r),{prefix:t||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Qy="2.7.1",Yy={"X-Client-Info":`storage-js/${Qy}`};var Or=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Ky{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Yy),r),this.fetch=Hf(n)}listBuckets(){return Or(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}getBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Or(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Or(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}}class Gy extends Ky{constructor(t,r={},n){super(t,r,n)}from(t){return new Jy(this.url,this.headers,t,this.fetch)}}const Xy="2.49.1";let An="";typeof Deno<"u"?An="deno":typeof document<"u"?An="web":typeof navigator<"u"&&navigator.product==="ReactNative"?An="react-native":An="node";const Zy={"X-Client-Info":`supabase-js-${An}/${Xy}`},ev={headers:Zy},tv={schema:"public"},rv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nv={};var sv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const iv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Pf:t=fetch,(...r)=>t(...r)},ov=()=>typeof Headers>"u"?Of:Headers,av=(e,t,r)=>{const n=iv(r),s=ov();return(i,o)=>sv(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var lv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function uv(e){return e.replace(/\/$/,"")}function cv(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>lv(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const qf="2.68.0",Ar=30*1e3,Ja=3,Bo=Ja*Ar,dv="http://localhost:9999",hv="supabase.auth.token",fv={"X-Client-Info":`gotrue-js/${qf}`},Qa="X-Supabase-Api-Version",Jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function mv(e){return Math.round(Date.now()/1e3)+e}function pv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},Vn=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function gv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Qf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>yn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ws=async(e,t)=>{await e.removeItem(t)};function vv(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,l,u,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,s=(l&15)<<4|u>>2,i=(u&3)<<6|c,r=r+String.fromCharCode(n),u!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class io{constructor(){this.promise=new io.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}io.promiseConstructor=Promise;function Dc(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(vv(n))}async function xv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function _v(e){return("0"+e.toString(16)).substr(-2)}function jv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,_v).join("")}async function kv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function bv(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kv(e);return bv(r)}async function Tr(e,t,r=!1){const n=jv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Yf(e,`${t}-code-verifier`,s);const i=await Sv(n);return[i,n===i?"plain":"s256"]}const Nv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cv(e){const t=e.headers.get(Qa);if(!t||!t.match(Nv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class tu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ev extends tu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pv(e){return A(e)&&e.name==="AuthApiError"}class Kf extends tu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Er extends tu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pt extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ov(e){return A(e)&&e.name==="AuthSessionMissingError"}class Wo extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hs extends Er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends Er{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tv(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ac extends Er{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ya extends Er{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ho(e){return A(e)&&e.name==="AuthRetryableFetchError"}class Lc extends Er{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Rv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dv=[502,503,504];async function Ic(e){var t;if(!yv(e))throw new Ya(ur(e),0);if(Dv.includes(e.status))throw new Ya(ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new Kf(ur(i),i)}let n;const s=Cv(e);if(s&&s.getTime()>=Jf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lc(ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lc(ur(r),e.status,r.weak_password.reasons);throw new Ev(ur(r),e.status||500,n)}const Av=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function M(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qa]||(i[Qa]=Jf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Lv(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Lv(e,t,r,n,s,i){const o=Av(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Ya(ur(u),0)}if(l.ok||await Ic(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Ic(u)}}function Ot(e){var t;let r=null;Uv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $c(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function It(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Iv(e){return{data:e,error:null}}function $v(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Rv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function Mv(e){return e}function Uv(e){return e.access_token&&e.refresh_token&&e.expires_in}var Fv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class zv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Qf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:It})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Fv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$v,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:It})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Mv});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:It})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:It})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:It})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}const Bv={getItem:e=>Vn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Vn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Vn()&&globalThis.localStorage.removeItem(e)}};function Mc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Wv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&Vn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hv extends Gf{}async function Vv(e,t,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Wv();const qv={url:dv,storageKey:hv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uc(e,t,r){return await r()}class hs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hs.nextInstanceID,hs.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qf(s.fetch),this.lock=s.lock||Uc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Vv:this.lock=Uc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Vn()?this.storage=Bv:(this.memoryStorage={},this.storage=Mc(this.memoryStorage)):(this.memoryStorage={},this.storage=Mc(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=gv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tv(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?{error:r}:{error:new Kf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Tr(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:x},xform:Ot})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new Hs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$c})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$c})}else throw new Hs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ot});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ot}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Wo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tr(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Hs("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tr(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iv})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Hs("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:It}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:It})})}catch(r){if(A(r))return Ov(r)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Tr(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:It});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Dc(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Dc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ot())throw new Vs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ac("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ac("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Vs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;u&&(f=parseInt(u));const v=f-d;v*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Pv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=pv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(A(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wv(async s=>(s>0&&await xv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ho(i)&&Date.now()+o-n<Ar})}catch(n){if(this._debug(r,"error",n),A(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Bo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Bo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ho(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new io;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return Ho(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Yf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ar}ms, refresh threshold is ${Ja} ticks`),s<=Ja&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}}hs.nextInstanceID=0;const Jv=hs;class Qv extends Jv{constructor(t){super(t)}}var Yv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Kv{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=uv(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:tv,realtime:nv,auth:Object.assign(Object.assign({},rv),{storageKey:u}),global:ev},d=cv(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=av(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jy(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Xg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gy(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Yv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qv({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new $y(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gv=(e,t,r)=>new Kv(e,t,r),Xv="https://pnjjeaunetajaybpxzly.supabase.co",Zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBuamplYXVuZXRhamF5YnB4emx5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA5ODYxNzgsImV4cCI6MjA1NjU2MjE3OH0.tPLzvc9uUkdlm4HaTPvTrevicAoX76anw3DEq2Dm8KE",B=Gv(Xv,Zv);B.auth.getSession().then(({data:e,error:t})=>{t?console.warn("   Supabase:",t.message):(console.log("  Supabase  "),B.from("users").select("count").then(({data:r,error:n})=>{n?console.warn("    users:",n.message):console.log(" users ")}),B.from("orders").select("count").then(({data:r,error:n})=>{n?console.warn("    orders:",n.message):console.log(" orders ")}))});const ex=async()=>{try{const{error:e}=await B.from("users").select("count");return!e}catch(e){return console.error("     Supabase:",e),!1}},tx=[{id:"1",username:"admin",password:"admin123",role:"admin",name:"Admin User"}],_s=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Xf=tx.map(e=>({...e,id:_s()})),rx=[],Te={USERS:"courier_rating_users",ORDERS:"courier_rating_orders",SYNC_TIMESTAMP:"courier_rating_sync_timestamp",SHARED_DATA:"courier_rating_shared_data"},nx=()=>{localStorage.removeItem(Te.USERS),localStorage.removeItem(Te.ORDERS),localStorage.removeItem(Te.SYNC_TIMESTAMP)},sx=()=>{nx(),localStorage.setItem(Te.USERS,JSON.stringify(Xf)),localStorage.setItem(Te.ORDERS,JSON.stringify(rx)),ix()},oo=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),ix=()=>{const e=fe();let t=!1;const r=e.map(n=>n.code&&n.status!=="assigned"&&n.status!=="in-progress"&&n.status!=="completed"?(t=!0,{...n,status:"assigned"}):n);t&&localStorage.setItem(Te.ORDERS,JSON.stringify(r))},ox=async e=>{try{const{data:t,error:r}=await B.from("users").select("id").eq("username",e);return r?(console.error("     username  Supabase:",r),!1):t&&t.length>0}catch(t){return console.error("     username:",t),!1}},ru=async e=>{try{const{data:t,error:r}=await B.from("users").select("id").eq("id",e.id).maybeSingle();if(r&&r.code!=="PGRST116"){console.error("     ID  Supabase:",r);return}if(t){const{error:i}=await B.from("users").update({username:e.username,password:e.password,role:e.role,name:e.name}).eq("id",e.id);i&&console.error("     Supabase:",i);return}if(await ox(e.username)){console.warn(`  username ${e.username}    Supabase,  `);return}const{error:s}=await B.from("users").insert([{id:e.id,username:e.username,password:e.password,role:e.role,name:e.name}]);s&&console.error("     Supabase:",s)}catch(t){console.error("     Supabase:",t)}},nu=async e=>{try{const{data:t,error:r}=await B.from("orders").select("id").eq("id",e.id).maybeSingle();if(r&&r.code!=="PGRST116"){console.error("     Supabase:",r);return}if(t){const{error:n}=await B.from("orders").update({address:e.address,phone_number:e.phoneNumber,delivery_time:e.deliveryTime,comments:e.comments,courier_id:e.courierId,courier_name:e.courierName,status:e.status,code:e.code,completed_at:e.completedAt,rating:e.rating,is_positive:e.isPositive,feedback:e.feedback}).eq("id",e.id);n&&console.error("     Supabase:",n)}else{const{error:n}=await B.from("orders").insert([{id:e.id,address:e.address,phone_number:e.phoneNumber,delivery_time:e.deliveryTime,comments:e.comments,courier_id:e.courierId,courier_name:e.courierName,status:e.status,code:e.code,created_at:e.createdAt,completed_at:e.completedAt,rating:e.rating,is_positive:e.isPositive,feedback:e.feedback}]);n&&console.error("     Supabase:",n)}}catch(t){console.error("     Supabase:",t)}},rt=()=>{try{const e=localStorage.getItem(Te.USERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error parsing users from localStorage:",e),Xf}},qn=()=>rt().filter(t=>t.role==="courier"),qs=e=>{const t=oo(e.id)?e:{...e,id:_s()},r=rt();r.push(t),localStorage.setItem(Te.USERS,JSON.stringify(r)),ru(t)},Fc=e=>{const t=oo(e.id)?e:{...e,id:_s()},r=rt(),n=r.findIndex(s=>s.id===t.id);n!==-1&&(r[n]=t,localStorage.setItem(Te.USERS,JSON.stringify(r)),ru(t))},zc=e=>{const r=rt().filter(n=>n.id!==e);localStorage.setItem(Te.USERS,JSON.stringify(r));try{B.from("users").delete().eq("id",e).then(({error:n})=>{n&&console.error("     Supabase:",n)})}catch(n){console.error("     Supabase:",n)}},fe=()=>{try{const e=localStorage.getItem(Te.ORDERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error parsing orders from localStorage:",e),[]}},tn=e=>fe().find(r=>r.id===e),Vo=e=>{if(!e)return;const t=e.toUpperCase();return fe().find(n=>n.code&&n.code.toUpperCase()===t&&(n.status==="assigned"||n.status==="in-progress"))},Js=e=>fe().filter(r=>r.courierId===e),ax=e=>{const t=e.code?{...e,status:"assigned"}:e,r=oo(t.id)?t:{...t,id:_s()},n=fe();n.push(r),localStorage.setItem(Te.ORDERS,JSON.stringify(n)),nu(r)},lx=e=>{let t=e;t.code&&t.status!=="completed"&&t.status!=="in-progress"&&t.status!=="cancelled"&&(t={...e,status:"assigned"});const r=oo(t.id)?t:{...t,id:_s()},n=fe(),s=n.findIndex(i=>i.id===r.id);s!==-1&&(n[s]=r,localStorage.setItem(Te.ORDERS,JSON.stringify(n)),nu(r))},ux=e=>{const r=fe().filter(n=>n.id!==e);localStorage.setItem(Te.ORDERS,JSON.stringify(r));try{B.from("orders").delete().eq("id",e).then(({error:n})=>{n&&console.error("     Supabase:",n)})}catch(n){console.error("     Supabase:",n)}},cx=()=>{sx()},dx=async()=>{try{const{data:e,error:t}=await B.from("users").select("username");if(t){console.error("     Supabase:",t);return}const r=new Set((e==null?void 0:e.map(i=>i.username.toLowerCase()))||[]),n=rt(),s=fe();for(const i of n)r.has(i.username.toLowerCase())?console.log(` ${i.username}    Supabase, `):await ru(i);for(const i of s)await nu(i);console.log("     Supabase")}catch(e){console.error("      Supabase:",e)}},hx=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Bc=async()=>{try{const{data:e,error:t}=await B.from("users").select("*");if(t)return console.error("     Supabase:",t),rt();if(e&&e.length>0){const r=e.map(n=>({id:n.id,username:n.username,password:n.password,role:n.role,name:n.name}));return localStorage.setItem("courier_rating_users",JSON.stringify(r)),r}return rt()}catch(e){return console.error("   :",e),rt()}},Zf=async()=>{try{const{data:e,error:t}=await B.from("users").select("*").eq("role","courier");if(t)return console.error("     Supabase:",t),qn();if(e&&e.length>0){const r=e.map(o=>({id:o.id,username:o.username,password:o.password,role:o.role,name:o.name})),i=[...rt().filter(o=>o.role!=="courier"),...r];return localStorage.setItem("courier_rating_users",JSON.stringify(i)),r}return qn()}catch(e){return console.error("   :",e),qn()}},fx=async e=>{try{const{data:t,error:r}=await B.from("users").select("id").eq("username",e.username);if(r){console.error("    :",r),qs(e);return}if(t&&t.length>0){console.warn(`  username ${e.username}    Supabase`),qs(e);return}const{data:n,error:s}=await B.from("users").select("id").eq("id",e.id);s&&console.error("      ID:",s);let i=e;n&&n.length>0&&(i={...e,id:hx()});const{error:o}=await B.from("users").insert([{id:i.id,username:i.username,password:i.password,role:i.role,name:i.name}]);o&&console.error("     Supabase:",o),qs(i)}catch(t){console.error("   :",t),qs(e)}},em=async e=>{try{const{error:t}=await B.from("users").update({username:e.username,password:e.password,role:e.role,name:e.name}).eq("id",e.id);t&&console.error("     Supabase:",t),Fc(e)}catch(t){console.error("   :",t),Fc(e)}},mx=async e=>{try{const{error:t}=await B.from("users").delete().eq("id",e);t&&console.error("     Supabase:",t),zc(e)}catch(t){console.error("   :",t),zc(e)}},tm=_.createContext(void 0),Wc=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),Hc=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),px=({children:e})=>{const[t,r]=_.useState(null),[n,s]=_.useState(!0);_.useEffect(()=>{const d=sessionStorage.getItem("currentUser");if(d)try{const h=JSON.parse(d);Wc(h.id)||(h.id=Hc(),sessionStorage.setItem("currentUser",JSON.stringify(h))),r(h)}catch(h){console.error("Error parsing stored user:",h),sessionStorage.removeItem("currentUser")}Bc().then(()=>{s(!1)}).catch(h=>{console.error("Error fetching users during auth initialization:",h),s(!1)})},[]);const i=async(d,h)=>{try{await Bc();const v=rt().find(x=>x.username.toLowerCase()===d.toLowerCase()&&x.password===h);if(v){const x=Wc(v.id)?v:{...v,id:Hc()};return r(x),sessionStorage.setItem("currentUser",JSON.stringify(x)),{user:x,error:null}}try{const{data:x,error:w}=await B.from("users").select("*").ilike("username",d).eq("password",h).single();if(w||!x)return{user:null,error:"    "};const k={id:x.id,username:x.username,password:x.password,role:x.role,name:x.name};return r(k),sessionStorage.setItem("currentUser",JSON.stringify(k)),{user:k,error:null}}catch(x){return console.error("    Supabase:",x),{user:null,error:"     "}}}catch(f){return console.error("   :",f),{user:null,error:"     "}}},o=async()=>{r(null),sessionStorage.removeItem("currentUser")},l=()=>!!t&&t.role==="admin",u=()=>!!t&&t.role==="courier",c=d=>{r(d),sessionStorage.setItem("currentUser",JSON.stringify(d))};return a.jsx(tm.Provider,{value:{user:t,loading:n,signIn:i,signOut:o,isAdmin:l,isCourier:u,updateCurrentUser:c},children:e})},nr=()=>{const e=_.useContext(tm);if(e===void 0)throw new Error("useAuth    AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>_.createElement("svg",{ref:d,...gx,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${yx(e)}`,l].join(" "),...c},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=U("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=U("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=U("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=U("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=U("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=U("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=U("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=U("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=U("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=U("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ex=()=>{const e=Nr(),t=Nt(),{user:r,signOut:n,isAdmin:s,isCourier:i}=nr(),o=t.pathname==="/rate",[l,u]=_.useState(!1),c=async()=>{await n(),e("/login")},d=()=>{u(!l)};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsxs("header",{className:`bg-blue-600 text-white shadow-md ${o?"py-4":""}`,children:[a.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[r?a.jsxs(F,{to:"/dashboard",className:"text-xl font-bold flex items-center",children:[a.jsx(lt,{className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Courier Rating System"}),a.jsx("span",{className:"sm:hidden",children:"CRS"})]}):a.jsxs("div",{className:"text-xl font-bold flex items-center",children:[a.jsx(lt,{className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Courier Rating System"}),a.jsx("span",{className:"sm:hidden",children:"CRS"})]}),r&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"hidden md:flex items-center",children:[a.jsxs(F,{to:"/profile",className:"text-white hover:text-blue-200 mr-4 flex items-center",children:[a.jsx(Ft,{className:"h-5 w-5 mr-1"}),a.jsx("span",{children:r.name})]}),a.jsxs("button",{onClick:c,className:"flex items-center text-white hover:text-blue-200",children:[a.jsx(Jc,{className:"h-5 w-5 mr-1"}),a.jsx("span",{children:""})]})]}),a.jsx("button",{onClick:d,className:"md:hidden text-white",children:l?a.jsx(Cx,{className:"h-6 w-6"}):a.jsx(kx,{className:"h-6 w-6"})})]}),!r&&!o&&a.jsx(F,{to:"/login",className:"text-white hover:text-blue-200",children:""})]}),r&&a.jsxs(a.Fragment,{children:[a.jsx("nav",{className:"bg-blue-700 hidden md:block",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("ul",{className:"flex space-x-4 overflow-x-auto py-2",children:[a.jsx("li",{children:a.jsxs(F,{to:"/dashboard",className:"text-white hover:text-blue-200 flex items-center px-2",children:[a.jsx(Ka,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:""})]})}),s()&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsxs(F,{to:"/orders",className:"text-white hover:text-blue-200 flex items-center px-2",children:[a.jsx(lt,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:""})]})}),a.jsx("li",{children:a.jsxs(F,{to:"/couriers",className:"text-white hover:text-blue-200 flex items-center px-2",children:[a.jsx(Ft,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:""})]})})]}),i()&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsxs(F,{to:"/courier-orders",className:"text-white hover:text-blue-200 flex items-center px-2",children:[a.jsx(lt,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:" "})]})}),a.jsx("li",{children:a.jsxs(F,{to:"/rate",className:"text-white hover:text-blue-200 flex items-center px-2",children:[a.jsx(Xt,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:" "})]})})]}),a.jsx("li",{children:a.jsxs(F,{to:"/profile",className:"text-white hover:text-blue-200 flex items-center px-2",children:[a.jsx(Ai,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:""})]})})]})})}),l&&a.jsx("nav",{className:"bg-blue-800 md:hidden",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("ul",{className:"py-2 space-y-2",children:[a.jsx("li",{children:a.jsxs(F,{to:"/profile",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(Ft,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:r.name})]})}),a.jsx("li",{children:a.jsxs(F,{to:"/dashboard",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(Ka,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:""})]})}),s()&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsxs(F,{to:"/orders",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(lt,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:""})]})}),a.jsx("li",{children:a.jsxs(F,{to:"/couriers",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(Ft,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:""})]})})]}),i()&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsxs(F,{to:"/courier-orders",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(lt,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:" "})]})}),a.jsx("li",{children:a.jsxs(F,{to:"/rate",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(Xt,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:" "})]})})]}),a.jsx("li",{children:a.jsxs(F,{to:"/profile",className:"text-white hover:text-blue-200 flex items-center py-2",onClick:()=>u(!1),children:[a.jsx(Ai,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:" "})]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{c(),u(!1)},className:"text-white hover:text-blue-200 flex items-center py-2 w-full text-left",children:[a.jsx(Jc,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:""})]})})]})})})]})]}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:a.jsx(Rg,{})}),a.jsx("footer",{className:"bg-gray-100 border-t",children:a.jsx("div",{className:"container mx-auto px-4 py-4 text-center text-gray-600",children:a.jsx("p",{children:" 2025 Courier Rating System.   ."})})})]})},mt=({children:e,requiredRole:t})=>{const{user:r,isAdmin:n,isCourier:s}=nr(),i=Nt();return r?t==="admin"&&!n()?a.jsx(Zr,{to:"/dashboard",replace:!0}):t==="courier"&&!s()?a.jsx(Zr,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e}):a.jsx(Zr,{to:"/login",replace:!0,state:{from:i}})},Px=()=>{var x,w;const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[o,l]=_.useState(!1),u=Nr(),c=Nt(),{user:d,signIn:h}=nr(),f=((w=(x=c.state)==null?void 0:x.from)==null?void 0:w.pathname)||"/dashboard";_.useEffect(()=>{d&&u(f,{replace:!0})},[d,u,f]);const v=async k=>{if(k.preventDefault(),l(!0),i(""),!e||!r){i(",     "),l(!1);return}try{const p=await h(e,r);p.user||i(p.error||"    ")}catch(p){console.error("Login error:",p),i("     ")}finally{l(!1)}};return a.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    "}),a.jsx("p",{className:"text-gray-600 mt-2",children:"       "})]}),s&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-start",children:[a.jsx(ht,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:s})]}),a.jsxs("form",{onSubmit:v,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"username",className:"block text-gray-700 font-medium mb-2",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"username",value:e,onChange:k=>t(k.target.value),className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ",disabled:o})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-2",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",id:"password",value:r,onChange:k=>n(k.target.value),className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ",disabled:o})]})]}),a.jsx("button",{type:"submit",className:`w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${o?"opacity-70 cursor-not-allowed":""}`,disabled:o,children:o?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):""})]}),a.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[a.jsx("p",{children:"-:"}),a.jsxs("p",{className:"mt-1",children:[": : ",a.jsx("strong",{children:"admin"}),", : ",a.jsx("strong",{children:"admin123"})]})]})]})})},Ox=()=>{const{isAdmin:e,isCourier:t,user:r}=nr(),[n,s]=md.useState(!1),i=()=>{const o=window.location.origin;navigator.clipboard.writeText(o),s(!0),setTimeout(()=>s(!1),3e3)};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"     "}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"         "}),a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsxs("button",{onClick:i,className:"flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded-md hover:bg-blue-200 transition-colors",children:[a.jsx(bx,{className:"h-4 w-4 mr-2"}),n?" !":" "]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[e()&&a.jsxs(a.Fragment,{children:[a.jsxs(F,{to:"/orders/new",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:a.jsx(lt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"  "})]}),a.jsx("p",{className:"text-gray-600",children:"         "})]}),a.jsxs(F,{to:"/orders",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4",children:a.jsx(jr,{className:"h-6 w-6 text-green-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:"    ,     "})]}),a.jsxs(F,{to:"/couriers",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-purple-100 p-3 rounded-full mr-4",children:a.jsx(Ft,{className:"h-6 w-6 text-purple-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:",          "})]}),a.jsxs(F,{to:"/profile",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-indigo-100 p-3 rounded-full mr-4",children:a.jsx(Ai,{className:"h-6 w-6 text-indigo-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:"       "})]})]}),t()&&a.jsxs(a.Fragment,{children:[a.jsxs(F,{to:"/courier-orders",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:a.jsx(lt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:"        "})]}),a.jsxs(F,{to:"/rate",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-yellow-100 p-3 rounded-full mr-4",children:a.jsx(Xt,{className:"h-6 w-6 text-yellow-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:"           "}),a.jsxs("div",{className:"mt-3 flex items-center text-blue-600",children:[a.jsx(Di,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm",children:"    "})]})]}),a.jsxs(F,{to:"/profile",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow md:col-span-2",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-indigo-100 p-3 rounded-full mr-4",children:a.jsx(Ai,{className:"h-6 w-6 text-indigo-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:"       "})]})]}),!e()&&!t()&&a.jsxs(F,{to:"/rate",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow md:col-span-2",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-yellow-100 p-3 rounded-full mr-4",children:a.jsx(Xt,{className:"h-6 w-6 text-yellow-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" "})]}),a.jsx("p",{className:"text-gray-600",children:" ,  ,    "})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"  "}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[a.jsx("li",{children:"        "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"  "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"      "})]}),a.jsxs("div",{className:"mt-6 bg-white p-4 rounded-lg border border-blue-100",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"-  :"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:":"}),a.jsxs("p",{children:[": ",a.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:"admin"})]}),a.jsxs("p",{children:[": ",a.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:"admin123"})]})]})]})]})]})},Ga=new Map,Kc=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="0123456789";let r,n=!1;for(;!n;){const i=e.charAt(Math.floor(Math.random()*e.length)),o=t.charAt(Math.floor(Math.random()*t.length));r=`${i}${o}`;const l=Ga.get(r);(!l||l<new Date)&&(n=!0)}const s=new Date;return s.setDate(s.getDate()+7),Ga.set(r,s),r},Tx=e=>{e&&Ga.delete(e.toUpperCase())},Rx=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),Dx=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Ax=async()=>{try{const{data:e,error:t}=await B.from("orders").select("*").order("created_at",{ascending:!1});if(t)return console.error("     Supabase:",t),fe();if(e&&e.length>0){const r=e.map(n=>({id:n.id,address:n.address,phoneNumber:n.phone_number,deliveryTime:n.delivery_time,comments:n.comments,courierId:n.courier_id,courierName:n.courier_name,status:n.status,code:n.code,createdAt:n.created_at,completedAt:n.completed_at,rating:n.rating,isPositive:n.is_positive,feedback:n.feedback}));return localStorage.setItem("courier_rating_orders",JSON.stringify(r)),r}return fe()}catch(e){return console.error("   :",e),fe()}},Xa=async e=>{try{const{data:t,error:r}=await B.from("orders").select("*").eq("id",e).maybeSingle();if(r)return console.error("     Supabase:",r),tn(e)||null;if(!t)return tn(e)||null;const n={id:t.id,address:t.address,phoneNumber:t.phone_number,deliveryTime:t.delivery_time,comments:t.comments,courierId:t.courier_id,courierName:t.courier_name,status:t.status,code:t.code,createdAt:t.created_at,completedAt:t.completed_at,rating:t.rating,isPositive:t.is_positive,feedback:t.feedback},i=fe().map(o=>o.id===n.id?n:o);return localStorage.setItem("courier_rating_orders",JSON.stringify(i)),n}catch(t){return console.error("   :",t),tn(e)||null}},Lx=async e=>{if(!e)return null;const t=e.toUpperCase();try{const{data:r,error:n}=await B.from("orders").select("*").ilike("code",t).in("status",["assigned","in-progress"]).maybeSingle();if(n)return console.error("       Supabase:",n),Vo(t)||null;if(!r)return Vo(t)||null;const s={id:r.id,address:r.address,phoneNumber:r.phone_number,deliveryTime:r.delivery_time,comments:r.comments,courierId:r.courier_id,courierName:r.courier_name,status:r.status,code:r.code,createdAt:r.created_at,completedAt:r.completed_at,rating:r.rating,isPositive:r.is_positive,feedback:r.feedback},o=fe().map(l=>l.id===s.id?s:l);return localStorage.setItem("courier_rating_orders",JSON.stringify(o)),s}catch(r){return console.error("     :",r),Vo(t)||null}},lm=async e=>{try{if(!Rx(e))return console.warn("Invalid UUID format for courierId:",e),Js(e);const{data:r,error:n}=await B.from("orders").select("*").eq("courier_id",e).order("created_at",{ascending:!1});if(n)return console.error("      Supabase:",n),Js(e);if(r&&r.length>0){const s=r.map(u=>({id:u.id,address:u.address,phoneNumber:u.phone_number,deliveryTime:u.delivery_time,comments:u.comments,courierId:u.courier_id,courierName:u.courier_name,status:u.status,code:u.code,createdAt:u.created_at,completedAt:u.completed_at,rating:u.rating,isPositive:u.is_positive,feedback:u.feedback})),l=[...fe().filter(u=>u.courierId!==e),...s];return localStorage.setItem("courier_rating_orders",JSON.stringify(l)),s}return Js(e)}catch(t){return console.error("    :",t),Js(e)}},Ix=async e=>{const t=e.code?"assigned":e.status;try{const{data:r,error:n}=await B.from("orders").select("id").eq("id",e.id).maybeSingle();n&&n.code!=="PGRST116"&&console.error("    :",n);let s={...e,status:t};r&&(s={...s,id:Dx()}),ax(s);const{error:i}=await B.from("orders").insert([{id:s.id,address:s.address,phone_number:s.phoneNumber,delivery_time:s.deliveryTime,comments:s.comments,courier_id:s.courierId,courier_name:s.courierName,status:s.status,code:s.code,created_at:s.createdAt,completed_at:s.completedAt,rating:s.rating,is_positive:s.isPositive,feedback:s.feedback}]);i&&console.error("     Supabase:",i)}catch(r){console.error("   :",r)}},au=async e=>{let t=e.status;e.code&&t!=="completed"&&t!=="in-progress"&&t!=="cancelled"&&(t="assigned");try{lx({...e,status:t});const{error:r}=await B.from("orders").update({address:e.address,phone_number:e.phoneNumber,delivery_time:e.deliveryTime,comments:e.comments,courier_id:e.courierId,courier_name:e.courierName,status:t,code:e.code,completed_at:e.completedAt,rating:e.rating,is_positive:e.isPositive,feedback:e.feedback}).eq("id",e.id);r&&console.error("     Supabase:",r)}catch(r){console.error("   :",r)}},lu=async e=>{try{ux(e);const{error:t}=await B.from("orders").delete().eq("id",e);t&&console.error("     Supabase:",t)}catch(t){console.error("   :",t)}},$x=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(null),[o,l]=_.useState(null),[u,c]=_.useState(!1),[d,h]=_.useState(""),[f,v]=_.useState(!1),[x,w]=_.useState(!1),k=Nt(),{user:p,isAdmin:m}=nr();_.useEffect(()=>{const E=new URLSearchParams(k.search).get("code");E&&(t(E),g(E))},[k]);const g=async j=>{n(""),v(!0);try{if(!j){n(",  "),v(!1);return}const E=j.toUpperCase(),R=await Lx(E);if(!R){n("   "),v(!1);return}if(R.status!=="assigned"&&R.status!=="in-progress"){n("      "),v(!1);return}i(R)}catch(E){console.error("Error validating code:",E),n("    ")}finally{v(!1)}},y=j=>{j.preventDefault(),g(e)},b=j=>{l(j)},S=async()=>{if(!(!s||o===null)){w(!0);try{const j=o>=4,E={...s,status:"completed",rating:o,isPositive:j,completedAt:new Date().toISOString(),feedback:d.trim()||void 0};await au(E),Tx(s.code||""),c(!0)}catch(j){console.error("Error submitting rating:",j),n("    ")}finally{w(!1)}}},C=()=>{const j=[{value:1,icon:qc,label:" ",color:"text-red-500"},{value:2,icon:qc,label:"",color:"text-orange-500"},{value:3,icon:jx,label:"",color:"text-yellow-500"},{value:4,icon:Nx,label:"",color:"text-green-500"},{value:5,icon:Sx,label:"",color:"text-emerald-500"}];return a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"  "}),s&&a.jsx("div",{className:"mb-4 bg-blue-50 p-3 rounded-lg text-left",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("span",{className:"font-medium",children:" :"})," ",s.address]})}),a.jsx("div",{className:"grid grid-cols-5 gap-1 mb-6",children:j.map(E=>{const R=E.icon,Y=o===E.value;return a.jsxs("button",{onClick:()=>b(E.value),className:`flex flex-col items-center p-2 rounded-lg transition-all ${Y?"bg-blue-100 border-2 border-blue-500 transform scale-105":"hover:bg-gray-100 border-2 border-transparent"}`,disabled:x,children:[a.jsx(R,{className:`h-8 w-8 mb-1 ${E.color}`}),a.jsx("span",{className:`text-xs ${Y?"font-semibold":""}`,children:E.label})]},E.value)})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700 mb-2 text-left",children:" ()"}),a.jsx("textarea",{id:"feedback",value:d,onChange:E=>h(E.target.value),placeholder:"    ...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:3,disabled:x})]}),a.jsx("button",{onClick:S,disabled:o===null||x,className:`w-full py-3 rounded-md flex items-center justify-center ${o===null||x?"bg-gray-300 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:x?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Yc,{className:"h-5 w-5 mr-2"})," "]})})]})},P=()=>a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"bg-green-100 text-green-800 p-6 rounded-lg mb-6",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"bg-green-200 p-3 rounded-full",children:a.jsx(Yc,{className:"h-10 w-10 text-green-600"})})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"!"}),a.jsx("p",{children:"   ."}),o&&a.jsx("div",{className:"mt-3 flex justify-center",children:Array.from({length:5}).map((j,E)=>a.jsx($,{filled:E<o,className:"mx-1"},E))})]}),a.jsx("button",{onClick:()=>{t(""),i(null),l(null),c(!1),h("")},className:"w-full py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"  "})]}),$=({filled:j,className:E})=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:j?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:`text-yellow-500 ${E||""}`,children:a.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})});return m()?a.jsx(Zr,{to:"/dashboard",replace:!0}):a.jsxs("div",{className:"max-w-md mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-100 rounded-full mb-3",children:a.jsx(lt,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h1",{className:"text-2xl font-bold",children:" "}),a.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:",  ,  "})]}),!p&&!m()&&a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs(F,{to:"/login",className:"flex items-center bg-blue-700 text-white px-3 py-1 rounded-md hover:bg-blue-800 text-sm",children:[a.jsx(_x,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:""})]})}),a.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[!s&&!u&&a.jsxs("form",{onSubmit:y,className:"flex flex-col",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"code",className:"block text-gray-700 font-medium mb-2",children:" "}),a.jsx("input",{type:"text",id:"code",value:e,onChange:j=>t(j.target.value.toUpperCase()),className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-center tracking-widest",placeholder:"A1",maxLength:2,autoFocus:!0,inputMode:"text",autoCapitalize:"characters",disabled:f}),r&&a.jsx("div",{className:"mt-2 bg-red-50 border-l-4 border-red-500 p-2",children:a.jsx("p",{className:"text-red-600 text-sm",children:r})})]}),a.jsx("button",{type:"submit",className:`w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${f?"opacity-70 cursor-not-allowed":""}`,disabled:f,children:f?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):""})]}),s&&!u&&C(),u&&P()]}),a.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-base font-semibold mb-2",children:"  "}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-700 text-sm",children:[a.jsx("li",{children:" ,  "}),a.jsx("li",{children:"  "}),a.jsx("li",{children:"  ( )"}),a.jsx("li",{children:"  "})]})]})]})};function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function kr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const um=6048e5,Mx=864e5;let Ux={};function lo(){return Ux}function fs(e,t){var l,u,c,d;const r=lo(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=st(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Li(e){return fs(e,{weekStartsOn:1})}function cm(e){const t=st(e),r=t.getFullYear(),n=kr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Li(n),i=kr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Li(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Gc(e){const t=st(e);return t.setHours(0,0,0,0),t}function Xc(e){const t=st(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Fx(e,t){const r=Gc(e),n=Gc(t),s=+r-Xc(r),i=+n-Xc(n);return Math.round((s-i)/Mx)}function zx(e){const t=cm(e),r=kr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Li(r)}function Bx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wx(e){if(!Bx(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function Hx(e){const t=st(e),r=kr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Vx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qx=(e,t,r)=>{let n;const s=Vx[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Jx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kx={date:qo({formats:Jx,defaultWidth:"full"}),time:qo({formats:Qx,defaultWidth:"full"}),dateTime:qo({formats:Yx,defaultWidth:"full"})},Gx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xx=(e,t,r,n)=>Gx[e];function En(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Zx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ew={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iw=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ow={ordinalNumber:iw,era:En({values:Zx,defaultWidth:"wide"}),quarter:En({values:ew,defaultWidth:"wide",argumentCallback:e=>e-1}),month:En({values:tw,defaultWidth:"wide"}),day:En({values:rw,defaultWidth:"wide"}),dayPeriod:En({values:nw,defaultWidth:"wide",formattingValues:sw,defaultFormattingWidth:"wide"})};function Pn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?lw(l,h=>h.test(o)):aw(l,h=>h.test(o));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function aw(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lw(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function uw(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const cw=/^(\d+)(th|st|nd|rd)?/i,dw=/\d+/i,hw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fw={any:[/^b/i,/^(a|c)/i]},mw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pw={any:[/1/i,/2/i,/3/i,/4/i]},gw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ww={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_w={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jw={ordinalNumber:uw({matchPattern:cw,parsePattern:dw,valueCallback:e=>parseInt(e,10)}),era:Pn({matchPatterns:hw,defaultMatchWidth:"wide",parsePatterns:fw,defaultParseWidth:"any"}),quarter:Pn({matchPatterns:mw,defaultMatchWidth:"wide",parsePatterns:pw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pn({matchPatterns:gw,defaultMatchWidth:"wide",parsePatterns:yw,defaultParseWidth:"any"}),day:Pn({matchPatterns:vw,defaultMatchWidth:"wide",parsePatterns:xw,defaultParseWidth:"any"}),dayPeriod:Pn({matchPatterns:ww,defaultMatchWidth:"any",parsePatterns:_w,defaultParseWidth:"any"})},kw={code:"en-US",formatDistance:qx,formatLong:Kx,formatRelative:Xx,localize:ow,match:jw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bw(e){const t=st(e);return Fx(t,Hx(t))+1}function Sw(e){const t=st(e),r=+Li(t)-+zx(t);return Math.round(r/um)+1}function dm(e,t){var d,h,f,v;const r=st(e),n=r.getFullYear(),s=lo(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=kr(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=fs(o,t),u=kr(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const c=fs(u,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Nw(e,t){var l,u,c,d;const r=lo(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=dm(e,t),i=kr(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),fs(i,t)}function Cw(e,t){const r=st(e),n=+fs(r,t)-+Nw(r,t);return Math.round(n/um)+1}function W(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Et={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return W(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):W(r+1,2)},d(e,t){return W(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return W(e.getHours()%12||12,t.length)},H(e,t){return W(e.getHours(),t.length)},m(e,t){return W(e.getMinutes(),t.length)},s(e,t){return W(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return W(s,t.length)}},Dr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zc={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Et.y(e,t)},Y:function(e,t,r,n){const s=dm(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return W(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):W(i,t.length)},R:function(e,t){const r=cm(e);return W(r,t.length)},u:function(e,t){const r=e.getFullYear();return W(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return W(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return W(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Et.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return W(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Cw(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):W(s,t.length)},I:function(e,t,r){const n=Sw(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):W(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Et.d(e,t)},D:function(e,t,r){const n=bw(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):W(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return W(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return W(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return W(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Dr.noon:n===0?s=Dr.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Dr.evening:n>=12?s=Dr.afternoon:n>=4?s=Dr.morning:s=Dr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Et.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Et.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):W(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):W(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Et.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Et.s(e,t)},S:function(e,t){return Et.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return td(n);case"XXXX":case"XX":return cr(n);case"XXXXX":case"XXX":default:return cr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return td(n);case"xxxx":case"xx":return cr(n);case"xxxxx":case"xxx":default:return cr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ed(n,":");case"OOOO":default:return"GMT"+cr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ed(n,":");case"zzzz":default:return"GMT"+cr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return W(n,t.length)},T:function(e,t,r){const n=e.getTime();return W(n,t.length)}};function ed(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+W(i,2)}function td(e,t){return e%60===0?(e>0?"-":"+")+W(Math.abs(e)/60,2):cr(e,t)}function cr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=W(Math.trunc(n/60),2),i=W(n%60,2);return r+s+t+i}const rd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hm=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ew=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return rd(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",rd(n,t)).replace("{{time}}",hm(s,t))},Pw={p:hm,P:Ew},Ow=/^D+$/,Tw=/^Y+$/,Rw=["D","DD","YY","YYYY"];function Dw(e){return Ow.test(e)}function Aw(e){return Tw.test(e)}function Lw(e,t,r){const n=Iw(e,t,r);if(console.warn(n),Rw.includes(e))throw new RangeError(n)}function Iw(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $w=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uw=/^'([^]*?)'?$/,Fw=/''/g,zw=/[a-zA-Z]/;function Ze(e,t,r){var d,h,f,v;const n=lo(),s=n.locale??kw,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(f=n.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,l=st(e);if(!Wx(l))throw new RangeError("Invalid time value");let u=t.match(Mw).map(x=>{const w=x[0];if(w==="p"||w==="P"){const k=Pw[w];return k(x,s.formatLong)}return x}).join("").match($w).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Bw(x)};if(Zc[w])return{isToken:!0,value:x};if(w.match(zw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(u=s.localize.preprocessor(l,u));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(x=>{if(!x.isToken)return x.value;const w=x.value;(Aw(w)||Dw(w))&&Lw(w,t,String(e));const k=Zc[w[0]];return k(l,w,s.localize,c)}).join("")}function Bw(e){const t=e.match(Uw);return t?t[1].replace(Fw,"'"):e}const uu=()=>{const e=sessionStorage.getItem("currentUser");return e?JSON.parse(e):null},Ww=()=>{const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState("all"),[o,l]=_.useState(""),[u,c]=_.useState(""),[d,h]=_.useState(!1),[f,v]=_.useState(null),[x,w]=_.useState(""),[k,p]=_.useState(""),[m,g]=_.useState(!0);_.useEffect(()=>{(async()=>{g(!0);try{const E=await Ax();t(E),n(E)}catch(E){console.error("     Supabase:",E);const R=fe();t(R),n(R)}finally{g(!1)}})()},[]),_.useEffect(()=>{let j=e;if(s!=="all"&&(j=j.filter(E=>E.status===s)),o){const E=new Date(o).toDateString();j=j.filter(R=>new Date(R.createdAt).toDateString()===E)}u&&(j=j.filter(E=>{var R;return(R=E.courierName)==null?void 0:R.toLowerCase().includes(u.toLowerCase())})),n(j)},[e,s,o,u]);const y=()=>{const E=[["ID","Address","Phone","Delivery Time","Courier","Status","Rating","Created","Completed"].join(","),...r.map(Re=>[Re.id,`"${Re.address.replace(/"/g,'""')}"`,Re.phoneNumber,Re.deliveryTime,Re.courierName||"",Re.status,Re.rating||"",Re.createdAt,Re.completedAt||""].join(","))].join(`
`),R=new Blob([E],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(R),Fe=document.createElement("a");Fe.setAttribute("href",Y),Fe.setAttribute("download",`orders_export_${new Date().toISOString().slice(0,10)}.csv`),Fe.style.visibility="hidden",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)},b=j=>{switch(j){case"pending":return a.jsx(jr,{className:"h-5 w-5 text-yellow-500"});case"assigned":return a.jsx(ht,{className:"h-5 w-5 text-blue-500"});case"in-progress":return a.jsx(jr,{className:"h-5 w-5 text-purple-500"});case"completed":return a.jsx(iu,{className:"h-5 w-5 text-green-500"});case"cancelled":return a.jsx(ou,{className:"h-5 w-5 text-red-500"});default:return null}},S=j=>j.status!=="completed"?"":j.isPositive?"bg-green-50":"bg-red-50",C=j=>{v(j),h(!0),p(""),w("")},P=()=>{h(!1),v(null),p(""),w("")},$=async()=>{if(!x){p(",  ");return}const j=uu();if(!j||j.password!==x){p(" ");return}if(f)try{await lu(f.id),t(E=>E.filter(R=>R.id!==f.id)),h(!1),v(null)}catch(E){console.error("   :",E),p("   . ,  .")}};return m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Orders"}),a.jsxs(F,{to:"/orders/new",className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center hover:bg-blue-700",children:[a.jsx(im,{className:"h-5 w-5 mr-1"}),"New Order"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(wx,{className:"h-5 w-5 text-gray-500 mr-2"}),a.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{id:"statusFilter",value:s,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"assigned",children:"Assigned"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",id:"dateFilter",value:o,onChange:j=>l(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"courierFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Courier Name"}),a.jsx("input",{type:"text",id:"courierFilter",value:u,onChange:j=>c(j.target.value),placeholder:"Search by courier name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsxs("button",{onClick:y,className:"flex items-center text-blue-600 hover:text-blue-800",children:[a.jsx(xx,{className:"h-5 w-5 mr-1"}),"Export to CSV"]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"No orders found"})}):r.map(j=>a.jsxs("tr",{className:S(j),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[b(j.status),a.jsx("span",{className:"ml-2 capitalize",children:j.status})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.code||"-"}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:j.address}),a.jsx("div",{className:"text-sm text-gray-500",children:j.phoneNumber})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.courierName||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ze(new Date(j.createdAt),"dd/MM/yyyy HH:mm")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.completedAt?Ze(new Date(j.completedAt),"dd/MM/yyyy HH:mm"):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.rating?`${j.rating}/5`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(F,{to:`/orders/${j.id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),(j.status==="pending"||j.status==="assigned")&&a.jsx(F,{to:`/orders/${j.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),a.jsx("button",{onClick:()=>C(j),className:"text-red-600 hover:text-red-900",children:a.jsx(ao,{className:"h-5 w-5"})})]})})]},j.id))})]})})}),d&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:" "}),a.jsxs("p",{className:"mb-4 text-gray-700",children:[" ,     #",f.id.slice(0,8),"?    ."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"deletePassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",id:"deletePassword",value:x,onChange:j=>w(j.target.value),className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:" "})]}),k&&a.jsx("p",{className:"mt-2 text-red-600 text-sm",children:k})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:""}),a.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:""})]})]})})]})},nd=()=>{const{id:e}=Sf(),t=Nr(),r=!!e,[n,s]=_.useState([]),[i,o]=_.useState({address:"",phoneNumber:"",deliveryTime:"",comments:"",courierId:"",status:"pending"}),[l,u]=_.useState(""),[c,d]=_.useState(""),[h,f]=_.useState(!1),[v,x]=_.useState(""),[w,k]=_.useState(""),[p,m]=_.useState(!0);_.useEffect(()=>{(async()=>{m(!0);try{const E=await Zf();if(s(E),r&&e){const R=await Xa(e);R?(o(R),R.code&&d(R.code)):u("Order not found")}}catch(E){console.error("   :",E);const R=qn();if(s(R),r&&e){const Y=tn(e);Y?(o(Y),Y.code&&d(Y.code)):u("Order not found")}}finally{m(!1)}})()},[r,e]);const g=j=>{const{name:E,value:R}=j.target;o(Y=>({...Y,[E]:R}))},y=j=>{const{value:E}=j.target,R=n.find(Y=>Y.id===E);o(Y=>({...Y,courierId:E,courierName:R?R.name:void 0})),E&&!c&&$()},b=async j=>{if(j.preventDefault(),u(""),!i.address||!i.phoneNumber||!i.deliveryTime){u("Please fill in all required fields");return}try{if(r&&e){const E=await Xa(e);if(!E){u("Order not found");return}if(E.status==="pending"&&i.status==="assigned"&&i.courierId&&!c){const Fe=Kc();o(Re=>({...Re,code:Fe})),d(Fe)}let R=i.status;c&&R==="pending"&&(R="assigned");const Y={...E,...i,status:R,code:i.status==="assigned"&&c||E.code};await au(Y)}else{const E={...i,id:crypto.randomUUID(),createdAt:new Date().toISOString(),status:c?"assigned":"pending"};await Ix(E)}t("/orders")}catch(E){u("An error occurred while saving the order"),console.error(E)}},S=()=>{r&&e&&(f(!0),k(""),x(""))},C=()=>{f(!1),k(""),x("")},P=async()=>{if(!v){k(",  ");return}const j=uu();if(!j||j.password!==v){k(" ");return}if(r&&e)try{await lu(e),f(!1),t("/orders")}catch(E){console.error("   :",E),k("   . ,  .")}},$=()=>{if(i.courierId){const j=Kc();o(E=>({...E,code:j,status:"assigned"})),d(j)}else u("Please select a courier first")};return p?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("button",{onClick:()=>t("/orders"),className:"mr-4 text-gray-600 hover:text-gray-900",children:a.jsx(su,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:r?"Edit Order":"Create New Order"})]}),l&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ht,{className:"h-5 w-5 mr-2"}),a.jsx("p",{children:l})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Address *"}),a.jsx("textarea",{id:"address",name:"address",value:i.address||"",onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Phone Number *"}),a.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:i.phoneNumber||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{htmlFor:"deliveryTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Time *"}),a.jsx("input",{type:"datetime-local",id:"deliveryTime",name:"deliveryTime",value:i.deliveryTime||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),a.jsx("textarea",{id:"comments",name:"comments",value:i.comments||"",onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"courierId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Courier"}),a.jsxs("select",{id:"courierId",name:"courierId",value:i.courierId||"",onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a courier"}),n.map(j=>a.jsx("option",{value:j.id,children:j.name},j.id))]}),r&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Status"}),a.jsxs("select",{id:"status",name:"status",value:i.status||"pending",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!!c&&i.status==="pending",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"assigned",children:"Assigned"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),!!c&&i.status==="pending"&&a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:'    "",     '})]}),i.courierId&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer Code"}),!c&&a.jsx("button",{type:"button",onClick:$,className:"text-sm text-blue-600 hover:text-blue-800",children:"Generate Code"})]}),c?a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-lg font-bold text-blue-800",children:c}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"      "})]})}):a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3 text-gray-500 text-sm",children:"No code generated yet"})]}),r&&i.createdAt&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created At (Automatic)"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3 text-gray-700",children:new Date(i.createdAt).toLocaleString()})]}),r&&i.completedAt&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Completed At (Automatic)"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3 text-gray-700",children:new Date(i.completedAt).toLocaleString()})]})]})]}),a.jsxs("div",{className:"mt-8 flex justify-between",children:[a.jsx("div",{children:r&&a.jsxs("button",{type:"button",onClick:S,className:"flex items-center px-4 py-2 border border-red-300 text-red-700 rounded-md hover:bg-red-50",children:[a.jsx(ao,{className:"h-5 w-5 mr-1"}),"Delete Order"]})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>t("/orders"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(om,{className:"h-5 w-5 mr-1"}),"Save Order"]})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:" "}),a.jsx("p",{className:"mb-4 text-gray-700",children:" ,     ?    ."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"deletePassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",id:"deletePassword",value:v,onChange:j=>x(j.target.value),className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:" "})]}),w&&a.jsx("p",{className:"mt-2 text-red-600 text-sm",children:w})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:""}),a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:""})]})]})})]})},Hw=()=>{const{id:e}=Sf(),t=Nr(),[r,n]=_.useState(null),[s,i]=_.useState(""),[o,l]=_.useState(!1),[u,c]=_.useState(!1),[d,h]=_.useState(!1),[f,v]=_.useState(""),[x,w]=_.useState(""),[k,p]=_.useState(!0);_.useEffect(()=>{(async()=>{if(e){p(!0);try{const E=await Xa(e);if(E)n(E);else{const R=tn(e);R?n(R):i("Order not found")}}catch(E){console.error("   :",E);const R=tn(e);R?n(R):i("Order not found")}finally{p(!1)}}})()},[e]);const m=()=>{if(!r)return null;switch(r.status){case"pending":return a.jsx(jr,{className:"h-6 w-6 text-yellow-500"});case"assigned":return a.jsx(ht,{className:"h-6 w-6 text-blue-500"});case"in-progress":return a.jsx(jr,{className:"h-6 w-6 text-purple-500"});case"completed":return a.jsx(iu,{className:"h-6 w-6 text-green-500"});case"cancelled":return a.jsx(ou,{className:"h-6 w-6 text-red-500"});default:return null}},g=()=>r?r.status!=="completed"?"bg-gray-100":r.isPositive?"bg-green-100":"bg-red-100":"",y=()=>{if(!(r!=null&&r.rating))return null;const j=[];for(let E=1;E<=5;E++)j.push(a.jsx(Xt,{className:`h-5 w-5 ${E<=r.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},E));return a.jsxs("div",{className:"flex items-center",children:[j,a.jsxs("span",{className:"ml-2 text-gray-700",children:[r.rating,"/5"]})]})},b=()=>{r!=null&&r.code&&(navigator.clipboard.writeText(r.code),l(!0),setTimeout(()=>l(!1),2e3))},S=()=>{if(r!=null&&r.code){const j=`${window.location.origin}/rate?code=${r.code}`;navigator.clipboard.writeText(j),c(!0),setTimeout(()=>c(!1),2e3)}},C=()=>{h(!0),w(""),v("")},P=()=>{h(!1),w(""),v("")},$=async()=>{if(!f){w(",  ");return}const j=uu();if(!j||j.password!==f){w(" ");return}if(e)try{await lu(e),h(!1),t("/orders")}catch(E){console.error("   :",E),w("   . ,  .")}};return k?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?a.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ht,{className:"h-5 w-5 mr-2"}),a.jsx("p",{children:s})]}),a.jsx("button",{onClick:()=>t("/orders"),className:"mt-4 px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Back to Orders"})]}):r?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("button",{onClick:()=>t("/orders"),className:"mr-4 text-gray-600 hover:text-gray-900",children:a.jsx(su,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Order Details"}),a.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[(r.status==="pending"||r.status==="assigned")&&a.jsxs(F,{to:`/orders/${r.id}/edit`,className:"flex items-center text-blue-600 hover:text-blue-800",children:[a.jsx(am,{className:"h-5 w-5 mr-1"}),"Edit Order"]}),a.jsxs("button",{onClick:C,className:"flex items-center text-red-600 hover:text-red-800",children:[a.jsx(ao,{className:"h-5 w-5 mr-1"}),"Delete"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:`p-2 rounded-full ${g()}`,children:m()}),a.jsxs("div",{className:"ml-3",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Order #",r.id.slice(0,8)]}),a.jsx("p",{className:"text-gray-500 capitalize",children:r.status})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(nm,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Delivery Address"}),a.jsx("p",{className:"mt-1",children:r.address})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(sm,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Customer Phone"}),a.jsx("p",{className:"mt-1",children:r.phoneNumber})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(rm,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Delivery Time"}),a.jsx("p",{className:"mt-1",children:r.deliveryTime?Ze(new Date(r.deliveryTime),"dd/MM/yyyy HH:mm"):"-"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ft,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Assigned Courier"}),a.jsx("p",{className:"mt-1",children:r.courierName||"Not assigned"})]})]})]}),r.comments&&a.jsxs("div",{className:"mt-4 flex items-start",children:[a.jsx(Qc,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Additional Comments"}),a.jsx("p",{className:"mt-1",children:r.comments})]})]}),r.feedback&&a.jsxs("div",{className:"mt-4 flex items-start",children:[a.jsx(Qc,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Customer Feedback"}),a.jsx("p",{className:"mt-1 p-2 bg-gray-50 rounded border border-gray-100",children:r.feedback})]})]})]})]})})}),a.jsx("div",{children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),a.jsx("p",{className:"mt-1",children:Ze(new Date(r.createdAt),"dd/MM/yyyy HH:mm")})]}),r.completedAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed At"}),a.jsx("p",{className:"mt-1",children:Ze(new Date(r.completedAt),"dd/MM/yyyy HH:mm")})]}),r.code&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Customer Code"}),a.jsxs("div",{className:"mt-1 bg-blue-50 border border-blue-200 rounded-md p-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-bold text-blue-800",children:r.code}),a.jsx("button",{onClick:b,className:"text-blue-600 hover:text-blue-800 p-1",title:" ",children:o?a.jsx(Vc,{className:"h-5 w-5"}):a.jsx(vx,{className:"h-5 w-5"})})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"      "}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"  :"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-blue-800 truncate",children:[window.location.origin,"/rate?code=",r.code]}),a.jsx("button",{onClick:S,className:"text-blue-600 hover:text-blue-800 p-1 ml-2 flex-shrink-0",title:" ",children:u?a.jsx(Vc,{className:"h-5 w-5"}):a.jsx(Di,{className:"h-5 w-5"})})]})]})]})]}),r.rating&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Customer Rating"}),a.jsx("div",{className:"mt-1",children:y()})]})]})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:" "}),a.jsxs("p",{className:"mb-4 text-gray-700",children:[" ,     #",r.id.slice(0,8),"?    ."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"deletePassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",id:"deletePassword",value:f,onChange:j=>v(j.target.value),className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:" "})]}),x&&a.jsx("p",{className:"mt-2 text-red-600 text-sm",children:x})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:""}),a.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:""})]})]})})]}):a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})},Vw=()=>{const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState(!1),[o,l]=_.useState({}),[u,c]=_.useState(""),[d,h]=_.useState(!0);_.useEffect(()=>{(async()=>{h(!0);try{const g=await Zf();t(g);const y=fe();n(y)}catch(g){console.error("   :",g);const y=qn();t(y);const b=fe();n(b)}finally{h(!1)}})()},[]);const f=m=>{const g=r.filter(C=>C.courierId===m),y=g.filter(C=>C.status==="completed"),b=y.reduce((C,P)=>C+(P.rating||0),0),S=y.length>0?b/y.length:0;return{totalOrders:g.length,completedOrders:y.length,averageRating:S.toFixed(1)}},v=m=>{l(m?{...m}:{role:"courier"}),i(!0)},x=()=>{i(!1),l({}),c("")},w=m=>{const{name:g,value:y}=m.target;l(b=>({...b,[g]:y}))},k=async m=>{if(m.preventDefault(),c(""),!o.username||!o.password||!o.name){c("Please fill in all required fields");return}try{if(o.id){const g=o;await em(g),t(y=>y.map(b=>b.id===g.id?g:b))}else{if(rt().some(b=>b.username===o.username)){c("Username already exists");return}const y={...o,id:crypto.randomUUID(),role:"courier"};await fx(y),t(b=>[...b,y])}x()}catch(g){c("An error occurred while saving the courier"),console.error(g)}},p=async m=>{if(window.confirm("Are you sure you want to delete this courier?")){if(r.filter(y=>y.courierId===m).length>0){alert("Cannot delete courier with assigned orders");return}try{await mx(m),t(e.filter(y=>y.id!==m))}catch(y){console.error("   :",y),alert("Error deleting courier. Please try again.")}}};return d?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Couriers"}),a.jsxs("button",{onClick:()=>v(),className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center hover:bg-blue-700",children:[a.jsx(im,{className:"h-5 w-5 mr-1"}),"Add Courier"]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Orders"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Rating"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No couriers found"})}):e.map(m=>{const g=f(m.id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.username}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.totalOrders}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.completedOrders}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xt,{className:"h-4 w-4 text-yellow-500 mr-1"}),g.averageRating]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>v(m),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:a.jsx(am,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>p(m.id),className:"text-red-600 hover:text-red-900",children:a.jsx(ao,{className:"h-5 w-5"})})]})]},m.id)})})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:o.id?"Edit Courier":"Add New Courier"}),u&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ht,{className:"h-5 w-5 mr-2"}),a.jsx("p",{children:u})]})}),a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",id:"name",name:"name",value:o.name||"",onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),a.jsx("input",{type:"text",id:"username",name:"username",value:o.username||"",onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",value:o.password||"",onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})},qw=()=>{const{user:e,signOut:t}=nr(),r=Nr(),[n,s]=_.useState({}),[i,o]=_.useState(""),[l,u]=_.useState(""),[c,d]=_.useState(""),[h,f]=_.useState(""),[v,x]=_.useState(""),[w,k]=_.useState(!1),[p,m]=_.useState(!1);_.useEffect(()=>{e&&s({id:e.id,username:e.username,name:e.name,role:e.role,password:e.password})},[e]);const g=S=>{const{name:C,value:P}=S.target;s($=>({...$,[C]:P}))},y=()=>{if(!n.name)return f("    "),!1;if(p){if(!i)return f("  "),!1;if(i!==(e==null?void 0:e.password))return f("  "),!1;if(!l)return f("  "),!1;if(l.length<6)return f("      6 "),!1;if(l!==c)return f("  "),!1}return!0},b=async S=>{if(S.preventDefault(),f(""),x(""),!!y()){k(!0);try{const C={...n,password:p?l:n.password};await em(C),x("  "),p&&(setTimeout(()=>{t(),r("/login")},2e3),x(" .    ...")),o(""),u(""),d(""),m(!1)}catch(C){console.error("   :",C),f("    ")}finally{k(!1)}}};return e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("button",{onClick:()=>r("/dashboard"),className:"mr-4 text-gray-600 hover:text-gray-900",children:a.jsx(su,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:" "})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ht,{className:"h-5 w-5 mr-2"}),a.jsx("p",{children:h})]})}),v&&a.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-6",children:a.jsx("p",{children:v})}),a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(Ft,{className:"h-5 w-5 mr-2 text-blue-600"})," "]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx("input",{type:"text",id:"username",name:"username",value:n.username||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-100",disabled:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   "})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),a.jsx("input",{type:"text",id:"name",name:"name",value:n.name||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),a.jsx("input",{type:"text",id:"role",name:"role",value:n.role==="admin"?"":"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-100",disabled:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  "})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(js,{className:"h-5 w-5 mr-2 text-blue-600"})," "]}),a.jsx("button",{type:"button",onClick:()=>m(!p),className:"text-blue-600 hover:text-blue-800 text-sm",children:p?"":" "})]}),p&&a.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),a.jsx("input",{type:"password",id:"currentPassword",value:i,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),a.jsx("input",{type:"password",id:"newPassword",value:l,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 6 "})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),a.jsx("input",{type:"password",id:"confirmPassword",value:c,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3",children:a.jsx("p",{className:"text-sm text-yellow-800",children:"        ."})})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:w,className:`flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 ${w?"opacity-70 cursor-not-allowed":""}`,children:w?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(om,{className:"h-5 w-5 mr-1"})," "]})})})]})]})]}):a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})},Jw=()=>{const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState("all"),{user:o}=nr(),[l,u]=_.useState(null),[c,d]=_.useState(!0),[h,f]=_.useState(null);_.useEffect(()=>{(async()=>{if(o){d(!0);try{const b=await lm(o.id);t(b),n(b)}catch(b){console.error("   :",b)}finally{d(!1)}}})()},[o]),_.useEffect(()=>{n(s==="all"?e:e.filter(y=>y.status===s))},[e,s]);const v=async(y,b)=>{f(y);const S=e.find(C=>C.id===y);if(S)try{const C={...S,status:b,completedAt:b==="completed"?new Date().toISOString():S.completedAt};await au(C),t(P=>P.map($=>$.id===y?C:$))}catch(C){console.error("    :",C),alert("     . ,  .")}finally{f(null)}},x=y=>{switch(y){case"pending":return a.jsx(jr,{className:"h-5 w-5 text-yellow-500"});case"assigned":return a.jsx(ht,{className:"h-5 w-5 text-blue-500"});case"in-progress":return a.jsx(jr,{className:"h-5 w-5 text-purple-500"});case"completed":return a.jsx(iu,{className:"h-5 w-5 text-green-500"});case"cancelled":return a.jsx(ou,{className:"h-5 w-5 text-red-500"});default:return null}},w=y=>y.status!=="completed"?"":y.isPositive?"bg-green-50":"bg-red-50",k=y=>{if(!y)return" ";const b=[];for(let S=1;S<=5;S++)b.push(a.jsx(Xt,{className:`h-4 w-4 ${S<=y?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},S));return a.jsx("div",{className:"flex",children:b})},p=y=>{u(l===y?null:y)},m=y=>{switch(y){case"pending":return"";case"assigned":return"";case"in-progress":return" ";case"completed":return"";case"cancelled":return"";default:return y}},g=y=>{const b=l===y.id,S=h===y.id;return a.jsxs("div",{className:`bg-white rounded-lg shadow mb-4 overflow-hidden ${w(y)}`,children:[a.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>p(y.id),children:[a.jsxs("div",{className:"flex items-center",children:[x(y.status),a.jsx("span",{className:"ml-2 font-medium",children:m(y.status)})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium",children:["#",y.id.slice(0,6)]}),a.jsx("div",{className:"text-xs text-gray-500",children:Ze(new Date(y.createdAt),"dd.MM.yyyy")})]})]}),b&&a.jsx("div",{className:"border-t border-gray-100 p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(nm,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsx("div",{className:"text-sm",children:y.address})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(sm,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsx("a",{href:`tel:${y.phoneNumber}`,className:"text-sm text-blue-600",children:y.phoneNumber})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(rm,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsx("div",{className:"text-sm",children:y.deliveryTime?Ze(new Date(y.deliveryTime),"dd.MM.yyyy HH:mm"):"-"})]})]}),y.comments&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("div",{className:"text-sm",children:y.comments})]}),y.rating!==void 0&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsx("div",{children:k(y.rating)})]}),y.code&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"   "}),a.jsxs(F,{to:"/rating-help",className:"text-blue-600 flex items-center text-sm ml-2",children:[a.jsx(Di,{className:"h-4 w-4 mr-1"}),""]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[y.status==="assigned"&&a.jsx("button",{onClick:C=>{C.stopPropagation(),v(y.id,"in-progress")},disabled:S,className:`w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 ${S?"opacity-70 cursor-not-allowed":""}`,children:S?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "}),y.status==="in-progress"&&a.jsx("button",{onClick:C=>{C.stopPropagation(),v(y.id,"completed")},disabled:S,className:`w-full py-2 bg-green-600 text-white rounded-md hover:bg-green-700 ${S?"opacity-70 cursor-not-allowed":""}`,children:S?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "}),y.status==="completed"&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:[": ",y.completedAt?Ze(new Date(y.completedAt),"dd.MM.yyyy HH:mm"):"-"]})]})]})})]},y.id)};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-xl font-bold",children:" "}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(F,{to:"/rating-help",className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[a.jsx(Xt,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"  "})]}),a.jsxs(F,{to:"/dashboard",className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[a.jsx(Ka,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[a.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),a.jsxs("select",{id:"statusFilter",value:s,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"assigned",children:""}),a.jsx("option",{value:"in-progress",children:" "}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"cancelled",children:""})]})]}),c?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:r.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 text-center text-gray-500",children:"  "}):r.map(y=>g(y))}),a.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"  "})}):r.map(y=>a.jsxs("tr",{className:w(y),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[x(y.status),a.jsx("span",{className:"ml-2 capitalize",children:m(y.status)})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:y.address})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:y.phoneNumber})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.deliveryTime?Ze(new Date(y.deliveryTime),"dd.MM.yyyy HH:mm"):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ze(new Date(y.createdAt),"dd.MM.yyyy HH:mm")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.completedAt?Ze(new Date(y.completedAt),"dd.MM.yyyy HH:mm"):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(y.rating)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.status==="assigned"&&a.jsx("button",{onClick:()=>v(y.id,"in-progress"),disabled:h===y.id,className:`text-blue-600 hover:text-blue-900 mr-2 ${h===y.id?"opacity-50 cursor-not-allowed":""}`,children:h===y.id?"...":" "}),y.status==="in-progress"&&a.jsx("button",{onClick:()=>v(y.id,"completed"),disabled:h===y.id,className:`text-green-600 hover:text-green-900 ${h===y.id?"opacity-50 cursor-not-allowed":""}`,children:h===y.id?"...":""}),y.code&&a.jsxs(F,{to:"/rating-help",className:"text-blue-600 hover:text-blue-800 flex items-center text-sm ml-2",children:[a.jsx(Di,{className:"h-4 w-4 mr-1"}),"  "]})]})]},y.id))})]})})})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:""}),a.jsx("p",{className:"text-gray-700 text-sm",children:'  ,      .     ,    ,    "  ".'})]})]})},Qw=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(null),{user:s}=nr(),[i,o]=_.useState(!1),[l,u]=_.useState(!0);_.useState(null),_.useEffect(()=>{(async()=>{if(s)try{const v=(await lm(s.id)).filter(x=>x.status==="assigned"&&x.code);t(v)}catch(f){console.error("   :",f)}finally{u(!1)}})()},[s]);const c=h=>{n(h),o(!0)},d=()=>{n(null),o(!1)};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"    "}),l?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?r&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("button",{onClick:d,className:"text-blue-600 hover:text-blue-800 mb-6 flex items-center",children:"    "}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"   "}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[" #",r.id.slice(0,8),"  ",r.address]})]}),a.jsx("div",{className:"border-t border-b border-gray-200 py-6 my-6",children:a.jsx("iframe",{src:"/rate",className:"w-full h-[500px] border-0",title:"  "})}),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ht,{className:"h-5 w-5 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-yellow-800",children:"!     ,       .             ."})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ht,{className:"h-6 w-6 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),a.jsx("p",{className:"text-gray-700 mb-3",children:"    .        :"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-2",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"    ,    "}),a.jsx("li",{children:"      "})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold",children:"   "})}),e.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"    ,   "}):a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(h=>a.jsx("div",{className:"p-6 hover:bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(lt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsxs("h3",{className:"font-medium",children:[" #",h.id.slice(0,8)]})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:h.address})]}),a.jsx("button",{onClick:()=>c(h),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"  "})]})},h.id))})]})]})]})};function Yw(){return a.jsx(zg,{children:a.jsxs(Ag,{children:[a.jsx(xe,{path:"/",element:a.jsx(Zr,{to:"/rate",replace:!0})}),a.jsxs(xe,{path:"/",element:a.jsx(Ex,{}),children:[a.jsx(xe,{path:"/login",element:a.jsx(Px,{})}),a.jsx(xe,{path:"/rate",element:a.jsx($x,{})}),a.jsx(xe,{path:"/dashboard",element:a.jsx(mt,{children:a.jsx(Ox,{})})}),a.jsx(xe,{path:"/orders",element:a.jsx(mt,{requiredRole:"admin",children:a.jsx(Ww,{})})}),a.jsx(xe,{path:"/orders/new",element:a.jsx(mt,{requiredRole:"admin",children:a.jsx(nd,{})})}),a.jsx(xe,{path:"/orders/:id",element:a.jsx(mt,{requiredRole:"admin",children:a.jsx(Hw,{})})}),a.jsx(xe,{path:"/orders/:id/edit",element:a.jsx(mt,{requiredRole:"admin",children:a.jsx(nd,{})})}),a.jsx(xe,{path:"/couriers",element:a.jsx(mt,{requiredRole:"admin",children:a.jsx(Vw,{})})}),a.jsx(xe,{path:"/profile",element:a.jsx(mt,{children:a.jsx(qw,{})})}),a.jsx(xe,{path:"/courier-orders",element:a.jsx(mt,{requiredRole:"courier",children:a.jsx(Jw,{})})}),a.jsx(xe,{path:"/rating-help",element:a.jsx(mt,{requiredRole:"courier",children:a.jsx(Qw,{})})}),a.jsx(xe,{path:"*",element:a.jsx(Zr,{to:"/rate",replace:!0})})]})]})})}function Kw(){return _.useEffect(()=>{cx(),(async()=>{await ex()?(console.log("  Supabase ,  ..."),await dx()):console.warn("   Supabase,    ")})()},[]),a.jsx(px,{children:a.jsx(Yw,{})})}vf(document.getElementById("root")).render(a.jsx(_.StrictMode,{children:a.jsx(Kw,{})}));export{mm as g};
